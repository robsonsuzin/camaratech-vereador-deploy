import{c as De,e as wt,O as na,i as St,P as ia,h as c,aF as oa,B as He,y as G,a1 as j,aG as la,aH as zt,F as it,_ as Pe,R as m,S as K,U as D,Y as a,ab as Q,V as $,Z as T,X as Ee,a3 as P,a5 as O,a4 as pe,aI as ke,aJ as Ce,W as Oe,Q as tt,A as at,T as Tt,aK as ra,az as Ct,a as Pt,g as Lt,r as Y,aL as Et,m as Mt,w as me,aM as Ft,ac as It,$ as Ne,aN as Ue,z as yt,d as rt,u as Ve,ae as Me,ad as Se,a8 as ie,aj as ut,ag as k,a0 as qe,f as ua,l as da,aO as Dt,a7 as dt,a2 as ca,a6 as va,G as he,aP as jt,aQ as _t,H as Ye,aR as Nt,N as ga,aS as fa,aT as ma,j as gt,k as kt,ah as Te,aB as ha,aC as pa,ao as ba,J as wa,ar as Ot,ak as Sa,aU as Bt,aV as Qe,aW as Je}from"./index.ef92d832.js";import{Q as ya}from"./QPage.522c7504.js";import{u as Ke}from"./socket.3ff0852e.js";import{f as _a,h as Xe,g as Ge,Q as ot,e as xa}from"./QList.12f05795.js";import{Q as Re}from"./QBanner.768e80ab.js";import{Q as Ut}from"./QResizeObserver.d487bf77.js";const qa={xs:8,sm:10,md:14,lg:20,xl:24};var xt=De({name:"QChip",props:{...wt,...na,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:i,emit:s}){const{proxy:{$q:n}}=He(),t=St(e,n),d=ia(e,qa),u=c(()=>e.selected===!0||e.icon!==void 0),r=c(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),v=c(()=>e.iconRemove||n.iconSet.chip.remove),A=c(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),z=c(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(A.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(t.value===!0?" q-chip--dark q-dark":"")}),q=c(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},L={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:y,remove:L}});function _(y){y.keyCode===13&&g(y)}function g(y){e.disable||(s("update:selected",!e.selected),s("click",y))}function l(y){(y.keyCode===void 0||y.keyCode===13)&&(it(y),e.disable===!1&&(s("update:modelValue",!1),s("remove")))}function o(){const y=[];A.value===!0&&y.push(G("div",{class:"q-focus-helper"})),u.value===!0&&y.push(G(j,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const L=e.label!==void 0?[G("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(G("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},la(i.default,L))),e.iconRight&&y.push(G(j,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(G(j,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...q.value.remove,onClick:l,onKeyup:l})),y}return()=>{if(e.modelValue===!1)return;const y={class:z.value,style:d.value};return A.value===!0&&Object.assign(y,q.value.chip,{onClick:g,onKeyup:_}),oa("div",y,o(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[zt,e.ripple]])}}});const $a={class:"tw-flex tw-items-center tw-gap-3"},Aa={class:"card-icon-wrapper"},Ia={class:"card-title"},ka={class:"session-info-compact tw-mb-3"},Va={class:"session-info-row"},Ra={class:"session-info-col"},za={class:"session-info-value-compact"},Ta={class:"session-info-row"},Ca={class:"session-info-col"},Pa={class:"session-info-value-compact"},La={key:0,class:"session-info-col"},Ea={class:"session-info-value-compact"},Ma={key:1,class:"session-info-col"},Fa={class:"session-info-value-compact"},Da={class:"tw-flex tw-items-start tw-gap-3"},ja={class:"tw-flex-1"},Na={class:"status-message-text"},Oa={key:0},Ba={key:0},Ua={key:1},Qa={key:2},Ja={key:1},Ha={key:2},Wa={key:0,class:"tw-mt-3"},Ga={class:"propositions-title"},Ka={class:"proposition-count"},Ya={class:"propositions-list tw-mt-2"},Xa={class:"proposition-header"},Za={class:"proposition-number"},es={key:0,class:"proposition-title"},ts={key:1,class:"proposition-proponents"},as={key:0,class:"proponent-more"},ss={key:1,class:"empty-propositions tw-mt-4"},ns={__name:"ScheduledSessionCard",props:{scheduledSession:{type:Object,default:null},propositions:{type:Array,default:()=>[]},isFuture:{type:Boolean,default:!1}},setup(e){const i=e;function s(){var d;return((d=i.scheduledSession)==null?void 0:d.session_status)==="closed"?"header-closed":i.isFuture?"header-future":"header-today"}function n(){var d;return((d=i.scheduledSession)==null?void 0:d.session_status)==="closed"?"banner-closed":i.isFuture?"banner-future":"banner-today"}function t(){var d;return((d=i.scheduledSession)==null?void 0:d.session_status)==="closed"?"status-avatar-closed":i.isFuture?"status-avatar-future":"status-avatar-today"}return(d,u)=>(m(),K(Oe,{class:"modern-card session-card slide-up"},{default:D(()=>[a("div",{class:Q(["card-header session-header",s()])},[a("div",$a,[a("div",Aa,[$(j,{name:e.scheduledSession.session_status==="closed"?"event_busy":e.isFuture?"event_available":"event",size:"24px",class:"tw-text-white"},null,8,["name"])]),a("div",Ia,T(e.scheduledSession.session_status==="closed"?"Sess\xE3o Encerrada":e.isFuture?"Pr\xF3xima Sess\xE3o Futura":"Sess\xE3o Agendada para Hoje"),1)])],2),$(Ee,{class:"tw-p-4 md:tw-p-6 session-card-section"},{default:D(()=>[a("div",ka,[a("div",Va,[a("div",Ra,[$(j,{name:"title",size:"16px",class:"tw-mr-1 tw-text-gray-600"}),a("span",za,T(e.scheduledSession.name||"N\xE3o informado"),1)])]),a("div",Ta,[a("div",Ca,[$(j,{name:"calendar_today",size:"16px",class:"tw-mr-1 tw-text-gray-600"}),a("span",Pa,T(e.scheduledSession.session_date_formatted||e.scheduledSession.session_date||"N\xE3o informado"),1)]),e.scheduledSession.session_time?(m(),P("div",La,[$(j,{name:"schedule",size:"16px",class:"tw-mr-1 tw-text-gray-600"}),a("span",Ea,T(e.scheduledSession.session_time),1)])):O("",!0),e.scheduledSession.session_type?(m(),P("div",Ma,[$(j,{name:"category",size:"16px",class:"tw-mr-1 tw-text-gray-600"}),a("span",Fa,T(e.scheduledSession.session_type),1)])):O("",!0)])]),a("div",{class:Q(["session-status-banner tw-mb-4",n()])},[a("div",Da,[a("div",{class:Q(["status-avatar",t()])},[$(j,{name:e.scheduledSession.session_status==="closed"?"check_circle":e.isFuture?"calendar_today":"schedule",size:"20px"},null,8,["name"])],2),a("div",ja,[a("div",Na,[e.scheduledSession.session_status==="closed"?(m(),P("span",Oa,[u[0]||(u[0]=pe(" Esta sess\xE3o j\xE1 foi encerrada ",-1)),e.scheduledSession.closing_date_formatted||e.scheduledSession.closing_date?(m(),P("span",Ba," em "+T(e.scheduledSession.closing_date_formatted||e.scheduledSession.closing_date),1)):O("",!0),e.scheduledSession.closing_time?(m(),P("span",Ua," \xE0s "+T(e.scheduledSession.closing_time),1)):O("",!0),!e.scheduledSession.closing_date_formatted&&!e.scheduledSession.closing_time?(m(),P("span",Qa," anteriormente ")):O("",!0),u[1]||(u[1]=pe(" . ",-1))])):e.isFuture?(m(),P("span",Ja," Esta sess\xE3o est\xE1 agendada para "+T(e.scheduledSession.session_date_formatted||e.scheduledSession.session_date||"data futura")+". Ainda n\xE3o \xE9 poss\xEDvel realizar a\xE7\xF5es. ",1)):(m(),P("span",Ha," A sess\xE3o ainda n\xE3o foi iniciada. Aguarde o in\xEDcio da sess\xE3o para realizar a\xE7\xF5es. "))])])])],2),e.propositions.length>0?(m(),P("div",Wa,[a("div",Ga,[$(j,{name:"description",size:"18px",class:"tw-mr-2"}),pe(" "+T(e.scheduledSession.session_status==="closed"?"Proposi\xE7\xF5es que foram votadas":"Proposi\xE7\xF5es que ser\xE3o votadas")+" ",1),a("span",Ka,"("+T(e.propositions.length)+")",1)]),a("div",Ya,[(m(!0),P(ke,null,Ce(e.propositions,(r,v)=>(m(),P("div",{key:r.id||v,class:"proposition-item"},[a("div",Xa,[a("span",Za,T(r.species||"Proposi\xE7\xE3o")+" n\xBA "+T(r.number||"S/N")+"/"+T(r.year||new Date().getFullYear()),1)]),r.title?(m(),P("div",es,T(r.title),1)):O("",!0),r.proponents&&r.proponents.length>0?(m(),P("div",ts,[(m(!0),P(ke,null,Ce(r.proponents.slice(0,3),A=>(m(),K(xt,{key:A.id,size:"sm",class:"proponent-chip"},{default:D(()=>[pe(T(A.name),1)]),_:2},1024))),128)),r.proponents.length>3?(m(),P("span",as," +"+T(r.proponents.length-3)+" mais ",1)):O("",!0)])):O("",!0)]))),128))])])):(m(),P("div",ss,[$(j,{name:"inbox",size:"32px",class:"tw-mb-2",color:"grey-5"}),u[2]||(u[2]=a("div",{class:"empty-text"}," Nenhuma proposi\xE7\xE3o cadastrada nesta sess\xE3o ainda. ",-1))]))]),_:1})]),_:1}))}};var Vt=Pe(ns,[["__scopeId","data-v-fcb6ccaa"]]);const is=["top","middle","bottom"];var Qt=De({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>is.includes(e)}},setup(e,{slots:i}){const s=c(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=c(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>G("div",{class:n.value,style:s.value,role:"status","aria-label":e.label},tt(i.default,e.label!==void 0?[e.label]:[]))}}),os=De({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:i,emit:s}){let n=!1,t,d,u=null,r=null,v,A;function z(){t==null||t(),t=null,n=!1,u!==null&&(clearTimeout(u),u=null),r!==null&&(clearTimeout(r),r=null),d==null||d.removeEventListener("transitionend",v),v=null}function q(o,y,L){y!==void 0&&(o.style.height=`${y}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,t=L}function _(o,y){o.style.overflowY=null,o.style.height=null,o.style.transition=null,z(),y!==A&&s(y)}function g(o,y){let L=0;d=o,n===!0?(z(),L=o.offsetHeight===o.scrollHeight?0:void 0):(A="hide",o.style.overflowY="hidden"),q(o,L,y),u=setTimeout(()=>{u=null,o.style.height=`${o.scrollHeight}px`,v=E=>{r=null,(Object(E)!==E||E.target===o)&&_(o,"show")},o.addEventListener("transitionend",v),r=setTimeout(v,e.duration*1.1)},100)}function l(o,y){let L;d=o,n===!0?z():(A="show",o.style.overflowY="hidden",L=o.scrollHeight),q(o,L,y),u=setTimeout(()=>{u=null,o.style.height=0,v=E=>{r=null,(Object(E)!==E||E.target===o)&&_(o,"hide")},o.addEventListener("transitionend",v),r=setTimeout(v,e.duration*1.1)},100)}return at(()=>{n===!0&&z()}),()=>G(Tt,{css:!1,appear:e.appear,onEnter:g,onLeave:l},i.default)}});const We=ra({}),ls=Object.keys(Ct);var Jt=De({name:"QExpansionItem",props:{...Ct,...Pt,...wt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Lt,"click","afterShow","afterHide"],setup(e,{slots:i,emit:s}){const{proxy:{$q:n}}=He(),t=St(e,n),d=Y(e.modelValue!==null?e.modelValue:e.defaultOpened),u=Y(null),r=Et(),{show:v,hide:A,toggle:z}=Mt({showing:d});let q,_;const g=c(()=>`q-expansion-item q-item-type q-expansion-item--${d.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),l=c(()=>{if(e.contentInsetLevel===void 0)return null;const U=n.lang.rtl===!0?"Right":"Left";return{["padding"+U]:e.contentInsetLevel*56+"px"}}),o=c(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),y=c(()=>{const U={};return ls.forEach(se=>{U[se]=e[se]}),U}),L=c(()=>o.value===!0||e.expandIconToggle!==!0),E=c(()=>e.expandedIcon!==void 0&&d.value===!0?e.expandedIcon:e.expandIcon||n.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),S=c(()=>e.disable!==!0&&(o.value===!0||e.expandIconToggle===!0)),V=c(()=>({expanded:d.value===!0,detailsId:r.value,toggle:z,show:v,hide:A})),h=c(()=>{const U=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:n.lang.label[d.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":d.value===!0?"true":"false","aria-controls":r.value,"aria-label":U}});me(()=>e.group,U=>{_==null||_(),U!==void 0&&B()});function p(U){o.value!==!0&&z(U),s("click",U)}function R(U){U.keyCode===13&&f(U,!0)}function f(U,se){var X;se!==!0&&U.qAvoidFocus!==!0&&((X=u.value)==null||X.focus()),z(U),it(U)}function w(){s("afterShow")}function M(){s("afterHide")}function B(){q===void 0&&(q=Ft()),d.value===!0&&(We[e.group]=q);const U=me(d,X=>{X===!0?We[e.group]=q:We[e.group]===q&&delete We[e.group]}),se=me(()=>We[e.group],(X,ve)=>{ve===q&&X!==void 0&&X!==q&&A()});_=()=>{U(),se(),We[e.group]===q&&delete We[e.group],_=void 0}}function F(){const U={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},se=[G(j,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&d.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return S.value===!0&&(Object.assign(U,{tabindex:0,...h.value,onClick:f,onKeyup:R}),se.unshift(G("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),G(Ge,U,()=>se)}function I(){let U;return i.header!==void 0?U=[].concat(i.header(V.value)):(U=[G(Ge,()=>[G(Xe,{lines:e.labelLines},()=>e.label||""),e.caption?G(Xe,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&U[e.switchToggleSide===!0?"push":"unshift"](G(Ge,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>G(j,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&U[e.switchToggleSide===!0?"unshift":"push"](F()),U}function J(){const U={ref:"item",style:e.headerStyle,class:e.headerClass,dark:t.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return L.value===!0&&(U.clickable=!0,U.onClick=p,Object.assign(U,o.value===!0?y.value:h.value)),G(_a,U,I)}function te(){return Ne(G("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:l.value,id:r.value},yt(i.default)),[[Ue,d.value]])}function oe(){const U=[J(),G(os,{duration:e.duration,onShow:w,onHide:M},te)];return e.expandSeparator===!0&&U.push(G(It,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:t.value}),G(It,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:t.value})),U}return e.group!==void 0&&B(),at(()=>{_==null||_()}),()=>G("div",{class:g.value},[G("div",{class:"q-expansion-item__container relative-position"},oe())])}});const Ht=rt("quorum",{state:()=>({isPresent:!1,isAbsentJustified:!1,absenceReason:null,quorumFinalized:!1,quorumStarted:!1,quorumFinalizedAt:null,loadingQuorum:!1,loadingAttendance:!1,loadingJustify:!1,quorumStatusCache:null,quorumStatusLastUpdate:null,QUORUM_STATUS_TTL:2e3,attendanceStatusCache:null,attendanceStatusLastUpdate:null,ATTENDANCE_STATUS_TTL:2e3,_quorumStatusLoadingPromise:null,_attendanceStatusLoadingPromise:null}),getters:{proponentId(){var i;return((i=Ve().user)==null?void 0:i.proponent_id)||null},unitId(){const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId;return i?parseInt(i):null},canSend(){var t;const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId,s=i?parseInt(i):null,n=((t=e.user)==null?void 0:t.proponent_id)||null;return!!s&&!!n}},actions:{async loadQuorumStatus(e,i=!1){if(!e){this.quorumStarted=!1,this.quorumFinalized=!1,this.quorumFinalizedAt=null;return}if(!i&&this.quorumStatusCache&&this.quorumStatusLastUpdate){const n=Date.now()-this.quorumStatusLastUpdate;if(n<this.QUORUM_STATUS_TTL)return console.log(`[QuorumStore] Usando cache de quorum status (${n}ms atr\xE1s)`),this.quorumStatusCache}if(this._quorumStatusLoadingPromise)return this._quorumStatusLoadingPromise;if(this.loadingQuorum){console.log("[QuorumStore] loadQuorumStatus j\xE1 em andamento, ignorando.");return}return this.loadingQuorum=!0,this._quorumStatusLoadingPromise=(async()=>{var s,n;try{const t=await Se.get(`/pauta/${e}/quorum/status`),d=((s=t==null?void 0:t.data)==null?void 0:s.success)&&((n=t==null?void 0:t.data)==null?void 0:n.data)?t.data.data:null;return d?(this.quorumStarted=d.is_started||!1,this.quorumFinalized=d.is_finalized||!1,this.quorumFinalizedAt=d.finalized_at||null):(this.quorumStarted=!1,this.quorumFinalized=!1,this.quorumFinalizedAt=null),this.quorumStatusCache=d,this.quorumStatusLastUpdate=Date.now(),d}catch(t){throw console.error("Erro ao carregar status do qu\xF3rum:",t),this.quorumStarted=!1,this.quorumFinalized=!1,this.quorumFinalizedAt=null,this.quorumStatusCache=null,t}finally{this.loadingQuorum=!1,this._quorumStatusLoadingPromise=null}})(),this._quorumStatusLoadingPromise},async loadCurrentAttendanceStatus(e,i=!1){if(!e||!this.proponentId){this.isPresent=!1,this.isAbsentJustified=!1,this.absenceReason=null;return}if(!i&&this.attendanceStatusCache&&this.attendanceStatusLastUpdate){const n=Date.now()-this.attendanceStatusLastUpdate;if(n<this.ATTENDANCE_STATUS_TTL)return console.log(`[QuorumStore] Usando cache de attendance status (${n}ms atr\xE1s)`),this.attendanceStatusCache}return this._attendanceStatusLoadingPromise?this._attendanceStatusLoadingPromise:(this._attendanceStatusLoadingPromise=(async()=>{var s,n;try{const t=await Se.get(`/pauta/${e}/session-members`),u=(((n=(s=t==null?void 0:t.data)==null?void 0:s.data)==null?void 0:n.members)||[]).find(r=>r.proponent_id===this.proponentId);return this.isPresent=(u==null?void 0:u.is_present)||!1,this.isAbsentJustified=(u==null?void 0:u.is_absent_justified)||!1,this.absenceReason=(u==null?void 0:u.absence_reason)||null,this.attendanceStatusCache=u,this.attendanceStatusLastUpdate=Date.now(),u}catch(t){throw console.error("Erro ao carregar estado da presen\xE7a:",t),this.isPresent=!1,this.isAbsentJustified=!1,this.absenceReason=null,this.attendanceStatusCache=null,t}finally{this._attendanceStatusLoadingPromise=null}})(),this._attendanceStatusLoadingPromise)},invalidateQuorumStatusCache(){this.quorumStatusCache=null,this.quorumStatusLastUpdate=null},invalidateAttendanceStatusCache(){this.attendanceStatusCache=null,this.attendanceStatusLastUpdate=null},resetState(){this.isPresent=!1,this.isAbsentJustified=!1,this.absenceReason=null,this.quorumFinalized=!1,this.quorumStarted=!1,this.quorumFinalizedAt=null,this.invalidateQuorumStatusCache(),this.invalidateAttendanceStatusCache()}}});function Wt(e){const i=Ke(),s=Ve(),n=Ht(),t=c(()=>n.isPresent),d=c(()=>n.isAbsentJustified),u=c(()=>n.absenceReason),r=c(()=>n.quorumFinalized),v=c(()=>n.quorumStarted),A=c(()=>n.quorumFinalizedAt),z=c(()=>n.loadingQuorum),q=c(()=>n.loadingAttendance),_=c(()=>n.loadingJustify||!1),g=c(()=>n.canSend);async function l(){return await n.loadQuorumStatus(e.value)}async function o(){return await n.loadCurrentAttendanceStatus(e.value)}async function y(){var E,S,V,h,p;if(!(!n.canSend||!e.value)){if(!n.quorumStarted||n.quorumFinalized){ie.warning(n.quorumFinalized?"O qu\xF3rum foi finalizado. Aguarde um novo qu\xF3rum ser iniciado.":"O qu\xF3rum ainda n\xE3o foi iniciado. Aguarde o in\xEDcio do qu\xF3rum.");return}if(n.isAbsentJustified){ie.warning("N\xE3o \xE9 poss\xEDvel marcar presen\xE7a quando h\xE1 uma justificativa de aus\xEAncia registrada.");return}if(n.isPresent){ie.warning("N\xE3o \xE9 poss\xEDvel desmarcar a presen\xE7a ap\xF3s ela ser registrada.");return}if(!n.loadingAttendance){n.loadingAttendance=!0;try{(E=(await Se.post(`/pauta/${e.value}/session-attendance/register`,{proponent_id:parseInt(n.proponentId),present:!0})).data)!=null&&E.success&&(n.isPresent=!0,n.invalidateAttendanceStatusCache(),await n.loadCurrentAttendanceStatus(e.value,!0),i.emit("session-attendance",{unitId:parseInt(n.unitId),agendaId:parseInt(e.value),proponentId:parseInt(n.proponentId),present:!0,userId:(S=s.user)==null?void 0:S.id,userName:(V=s.user)==null?void 0:V.first_name,source:"vereador"}),ie.success("Presen\xE7a registrada com sucesso!"))}catch(R){console.error("[Vereador] Erro ao registrar presen\xE7a:",R),ie.negative("Erro ao registrar presen\xE7a: "+(((p=(h=R.response)==null?void 0:h.data)==null?void 0:p.message)||R.message))}finally{n.loadingAttendance=!1}}}}async function L(E){var S,V,h,p,R;if(!(!n.canSend||!e.value)){if(!n.quorumStarted||n.quorumFinalized){ie.warning(n.quorumFinalized?"O qu\xF3rum foi finalizado. N\xE3o \xE9 mais poss\xEDvel justificar aus\xEAncia.":"O qu\xF3rum ainda n\xE3o foi iniciado. Aguarde o in\xEDcio do qu\xF3rum.");return}if(n.isPresent){ie.warning("N\xE3o \xE9 poss\xEDvel justificar aus\xEAncia quando voc\xEA est\xE1 presente.");return}if(!n.loadingJustify){n.loadingJustify=!0;try{(S=(await Se.post(`/pauta/${e.value}/session-absences/justify`,{proponent_id:parseInt(n.proponentId),absence_reason:E})).data)!=null&&S.success&&(n.isAbsentJustified=!0,n.absenceReason=E,n.invalidateAttendanceStatusCache(),i.emit("session-attendance",{unitId:parseInt(n.unitId),agendaId:parseInt(e.value),proponentId:parseInt(n.proponentId),present:!1,justified:!0,reason:E,userId:(V=s.user)==null?void 0:V.id,userName:(h=s.user)==null?void 0:h.first_name,source:"vereador"}),ie.success("Aus\xEAncia justificada com sucesso!"))}catch(f){console.error("[Vereador] Erro ao justificar aus\xEAncia:",f),ie.negative("Erro ao justificar aus\xEAncia: "+(((R=(p=f.response)==null?void 0:p.data)==null?void 0:R.message)||f.message))}finally{n.loadingJustify=!1}}}}return{isPresent:t,isAbsentJustified:d,absenceReason:u,quorumFinalized:r,quorumStarted:v,quorumFinalizedAt:A,loadingQuorum:z,loadingAttendance:q,loadingJustify:_,canSend:g,loadQuorumStatus:l,loadCurrentAttendanceStatus:o,toggleAttendance:y,justifyAbsence:L}}const Gt=rt("expedient",{state:()=>({smallExpedient:{isRegistered:!1,started:!1,finalized:!1,finalizedAt:null,registrationOrder:null,registeredAt:null,loadingData:!1,loadingAction:!1},largeExpedient:{isRegistered:!1,started:!1,finalized:!1,finalizedAt:null,registrationOrder:null,registeredAt:null,loadingData:!1,loadingAction:!1},miscellaneousSubject:{isRegistered:!1,started:!1,finalized:!1,finalizedAt:null,registrationOrder:null,registeredAt:null,loadingData:!1,loadingAction:!1},statusCache:{small:null,large:null,miscellaneous:null},statusLastUpdate:{small:null,large:null,miscellaneous:null},STATUS_TTL:2e3,_statusLoadingPromises:{small:null,large:null,miscellaneous:null}}),getters:{proponentId(){var i;return((i=Ve().user)==null?void 0:i.proponent_id)||null},unitId(){const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId;return i?parseInt(i):null},canSend(){var t;const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId,s=i?parseInt(i):null,n=((t=e.user)==null?void 0:t.proponent_id)||null;return!!s&&!!n}},actions:{async loadStatus(e,i,s=!1){if(!e||!this.proponentId){this.resetState(i);return}const n=i==="small"?"small":i==="miscellaneous"?"miscellaneous":"large",t=n==="small"?this.smallExpedient:n==="miscellaneous"?this.miscellaneousSubject:this.largeExpedient,d=n==="small"?"small-expedient":n==="miscellaneous"?"miscellaneous-subject":"large-expedient";if(!s&&t.loadingData){console.log(`[ExpedientStore ${n}] loadStatus j\xE1 em andamento, ignorando.`);return}if(!s&&this.statusCache[n]&&this.statusLastUpdate[n]){const r=Date.now()-this.statusLastUpdate[n];if(r<this.STATUS_TTL){console.log(`[ExpedientStore ${n}] Usando cache de status (${r}ms atr\xE1s)`);const v=this.statusCache[n];return t.started=v.started||!1,t.finalized=v.finalized||!1,t.finalizedAt=v.finalizedAt||null,t.isRegistered=v.isRegistered||!1,t.registrationOrder=v.registrationOrder||null,t.registeredAt=v.registeredAt||null,this.statusCache[n]}}return this._statusLoadingPromises[n]?this._statusLoadingPromises[n]:(t.loadingData=!0,this._statusLoadingPromises[n]=(async()=>{var u,r,v,A;try{console.log(`[ExpedientStore ${n}] Carregando status do ${d} para agenda ${e} (force: ${s})`);const z=await Se.get(`/pauta/${e}/${d}/status`),q=((u=z==null?void 0:z.data)==null?void 0:u.success)&&((r=z==null?void 0:z.data)==null?void 0:r.data)?z.data.data:null;console.log(`[ExpedientStore ${n}] Resposta do status:`,q),q&&(t.started=q.is_started||!1,t.finalized=q.is_finalized||!1,t.finalizedAt=q.finalized_at||null,console.log(`[ExpedientStore ${n}] Status atualizado:`,{started:t.started,finalized:t.finalized,finalizedAt:t.finalizedAt}));const _=await Se.get(`/pauta/${e}/${d}/members`),l=(((A=(v=_==null?void 0:_.data)==null?void 0:v.data)==null?void 0:A.members)||[]).find(o=>o.proponent_id===this.proponentId);return t.isRegistered=(l==null?void 0:l.is_registered)||!1,t.registrationOrder=(l==null?void 0:l.registration_order)||null,t.registeredAt=(l==null?void 0:l.registered_at)||null,this.statusCache[n]={started:t.started,finalized:t.finalized,finalizedAt:t.finalizedAt,isRegistered:t.isRegistered,registrationOrder:t.registrationOrder,registeredAt:t.registeredAt},this.statusLastUpdate[n]=Date.now(),this.statusCache[n]}catch(z){throw console.error(`Erro ao carregar status do ${d}:`,z),this.resetState(i),z}finally{t.loadingData=!1,this._statusLoadingPromises[n]=null}})(),this._statusLoadingPromises[n])},invalidateStatusCache(e){const i=e==="small"?"small":e==="miscellaneous"?"miscellaneous":"large";this.statusCache[i]=null,this.statusLastUpdate[i]=null},resetState(e){const i=e==="small"?"small":e==="miscellaneous"?"miscellaneous":"large",s=i==="small"?this.smallExpedient:i==="miscellaneous"?this.miscellaneousSubject:this.largeExpedient;s.isRegistered=!1,s.started=!1,s.finalized=!1,s.finalizedAt=null,s.registrationOrder=null,s.registeredAt=null,this.invalidateStatusCache(e)}}});var lt=Object.freeze(Object.defineProperty({__proto__:null,useExpedientStore:Gt},Symbol.toStringTag,{value:"Module"}));function et(e,i="small"){const s=Ke(),n=Ve(),t=Gt(),d=i==="small"?"small":i==="miscellaneous"?"miscellaneous":"large",u=d==="small"?t.smallExpedient:d==="miscellaneous"?t.miscellaneousSubject:t.largeExpedient,r=i==="small"?"small-expedient":i==="miscellaneous"?"miscellaneous-subject":"large-expedient",v=i==="small"?"pequeno expediente":i==="miscellaneous"?"assuntos diversos":"grande expediente",A=c(()=>u.isRegistered),z=c(()=>u.started),q=c(()=>u.finalized),_=c(()=>u.finalizedAt),g=c(()=>u.registrationOrder),l=c(()=>u.registeredAt),o=c(()=>u.loadingData),y=c(()=>u.loadingAction),L=c(()=>t.canSend);async function E(V=!1){return await t.loadStatus(e.value,i,V)}async function S(){var h,p,R,f,w,M;if(!t.canSend||!e.value)return;if(!u.started||u.finalized){ie.warning(u.finalized?`As inscri\xE7\xF5es de ${v} foram finalizadas.`:`As inscri\xE7\xF5es de ${v} ainda n\xE3o foram iniciadas.`);return}if(u.loadingAction)return;u.loadingAction=!0;const V=!u.isRegistered;try{const B=await Se.post(`/pauta/${e.value}/${r}/register`,{proponent_id:parseInt(t.proponentId),registered:V});(h=B.data)!=null&&h.success?(t.invalidateStatusCache(i),await E(),s.emit(`${r}-registration`,{unitId:parseInt(t.unitId),agendaId:parseInt(e.value),proponentId:parseInt(t.proponentId),registered:V,userId:(p=n.user)==null?void 0:p.id,userName:(R=n.user)==null?void 0:R.first_name,source:"vereador"}),V&&u.registrationOrder?ie.success(`Inscri\xE7\xE3o realizada com sucesso! Sua posi\xE7\xE3o na fila: ${u.registrationOrder}\xBA`):ie.success(V?"Inscri\xE7\xE3o realizada com sucesso!":"Inscri\xE7\xE3o cancelada com sucesso!")):ie.error(((f=B.data)==null?void 0:f.message)||"Erro ao registrar inscri\xE7\xE3o.")}catch(B){console.error(`[Vereador] Erro ao registrar ${v} via API:`,B),ie.error("Erro ao registrar inscri\xE7\xE3o: "+(((M=(w=B.response)==null?void 0:w.data)==null?void 0:M.message)||B.message))}finally{u.loadingAction=!1}}return{isRegistered:A,started:z,finalized:q,finalizedAt:_,registrationOrder:g,registeredAt:l,loadingData:o,loadingAction:y,canSend:L,loadStatus:E,toggleRegistration:S}}const rs=rt("voting",{state:()=>({votingStatus:null,activeReading:null,activeVoting:null,finishedReadings:[],quorumMembers:[],showReadingModal:!1,showVotingModal:!1,loadingVoting:!1,votingStatusCache:null,votingStatusLastUpdate:null,VOTING_STATUS_TTL:2e3,_votingStatusLoadingPromise:null}),getters:{activeReadingIcon:e=>e.activeReading?e.activeReading.type==="reading"?"menu_book":e.activeReading.type==="secret_voting"?"lock":"how_to_vote":"menu_book",activeReadingLabel:e=>e.activeReading?e.activeReading.type==="reading"?"Leitura em Andamento":e.activeReading.type==="secret_voting"?"Vota\xE7\xE3o Secreta em Andamento":"Vota\xE7\xE3o em Andamento":""},actions:{async loadVotingStatus(e,i=!1){if(!e){const s=!!this.activeReading,n=!!this.activeVoting;this.votingStatus=null,this.activeReading=null,this.activeVoting=null,s&&(this.showReadingModal=!1),n&&(this.showVotingModal=!1);return}if(!i&&this.votingStatusCache&&this.votingStatusLastUpdate){const n=Date.now()-this.votingStatusLastUpdate;if(n<this.VOTING_STATUS_TTL)return console.log(`[VotingStore] Usando cache de voting status (${n}ms atr\xE1s)`),this.votingStatusCache}if(this._votingStatusLoadingPromise)return this._votingStatusLoadingPromise;if(!this.loadingVoting)return this.loadingVoting=!0,this._votingStatusLoadingPromise=(async()=>{var s,n,t,d;try{const u=await Se.get(`/pauta/${e}/voting/status`);if((s=u.data)!=null&&s.success){this.votingStatus=u.data.data,this.finishedReadings=((n=u.data.data)==null?void 0:n.finished_readings)||[];const r=u.data.data,v=r==null?void 0:r.active_voting_ata,A=r==null?void 0:r.active_voting_propositions,z=r==null?void 0:r.active_voting;this.quorumMembers=(v==null?void 0:v.quorum_members)||(A==null?void 0:A.quorum_members)||(z==null?void 0:z.quorum_members)||[];const q=(t=this.activeReading)==null?void 0:t.id,_=(d=this.activeVoting)==null?void 0:d.id,g=!!this.activeReading,l=!!this.activeVoting,o=[...(v==null?void 0:v.readings)||[],...(A==null?void 0:A.readings)||[],...(z==null?void 0:z.readings)||[]].filter(V=>!V.finished_at);if(o.length){const V=o.find(R=>R.type==="secret_voting"),h=o.find(R=>R.type==="voting"),p=o.find(R=>R.type==="reading");V?(this.activeVoting=V,this.activeReading=null):h?(this.activeVoting=h,this.activeReading=null):p?(this.activeReading=p,this.activeVoting=null):(this.activeReading=null,this.activeVoting=null)}else this.activeReading=null,this.activeVoting=null;const y=!q&&!_,L=g&&!this.activeReading&&!!this.activeVoting,E=this.activeVoting&&(y||this.activeVoting.id!==_||L),S=this.activeReading&&(y||this.activeReading.id!==q);E?(this.showVotingModal=!0,this.showReadingModal=!1):S&&!this.activeVoting&&(this.showReadingModal=!0,this.showVotingModal=!1),!this.activeVoting&&_&&(this.showVotingModal=!1),!this.activeReading&&q&&(this.showReadingModal=!1),this.votingStatusCache=u.data.data,this.votingStatusLastUpdate=Date.now()}}catch(u){throw console.error("[Vereador] Erro ao carregar status da vota\xE7\xE3o:",u),this.votingStatus=null,this.activeReading=null,this.activeVoting=null,this.showReadingModal=!1,this.showVotingModal=!1,this.votingStatusCache=null,u}finally{this.loadingVoting=!1,this._votingStatusLoadingPromise=null}})(),this._votingStatusLoadingPromise},invalidateVotingStatusCache(){this.votingStatusCache=null,this.votingStatusLastUpdate=null}}});function Kt(e){const i=rs(),s=c(()=>i.votingStatus),n=c(()=>i.activeReading),t=c(()=>i.activeVoting),d=c(()=>i.finishedReadings),u=c(()=>i.quorumMembers),r=c({get:()=>i.showReadingModal,set:l=>{i.showReadingModal=l}}),v=c({get:()=>i.showVotingModal,set:l=>{i.showVotingModal=l}}),A=c(()=>i.loadingVoting),z=c(()=>i.activeReadingIcon),q=c(()=>i.activeReadingLabel);async function _(l=!1){return await i.loadVotingStatus(e.value,l)}async function g(){return i.invalidateVotingStatusCache(),await _()}return{votingStatus:s,activeReading:n,activeVoting:t,finishedReadings:d,quorumMembers:u,showReadingModal:r,showVotingModal:v,loadingVoting:A,activeReadingIcon:z,activeReadingLabel:q,loadVotingStatus:_,handleVoteRegistered:g}}const us=rt("voiceRequest",{state:()=>({hasRequest:!1,requestOrder:null,requestedAt:null,currentSpeech:null,allSpeeches:[],remainingTime:0,loadingData:!1,speechInterval:null,voiceRequestStatusCache:null,voiceRequestStatusLastUpdate:null,VOICE_REQUEST_STATUS_TTL:2e3,_voiceRequestStatusLoadingPromise:null}),getters:{proponentId(){var i;return((i=Ve().user)==null?void 0:i.proponent_id)||null},unitId(){const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId;return i?parseInt(i):null},canSend(){var t;const e=Ve(),i=Me.getItem("unit_id_num")||e.currentUnitId,s=i?parseInt(i):null,n=((t=e.user)==null?void 0:t.proponent_id)||null;return!!s&&!!n},allFinishedSpeeches(){return this.allSpeeches.filter(e=>e.status==="finished").sort((e,i)=>new Date(i.finished_at||0)-new Date(e.finished_at||0))}},actions:{updateRemainingTime(){if(!this.currentSpeech){this.remainingTime=0;return}const e=this.currentSpeech;let i=e.used_seconds||0;e.status==="speaking"&&e.started_at&&(i+=Math.floor((new Date-new Date(e.started_at))/1e3));const s=(e.allocated_minutes+e.additional_minutes)*60;this.remainingTime=Math.max(0,s-i)},ensureSpeechInterval(){var e;!this.speechInterval&&((e=this.currentSpeech)==null?void 0:e.status)==="speaking"&&(this.speechInterval=setInterval(()=>{this.updateRemainingTime()},1e3))},clearSpeechInterval(){this.speechInterval&&(clearInterval(this.speechInterval),this.speechInterval=null)},async loadStatus(e,i=!1){if(!(!i&&this.loadingData)){if(!e||!this.proponentId){this.resetState();return}if(!i&&this.voiceRequestStatusCache&&this.voiceRequestStatusLastUpdate){const n=Date.now()-this.voiceRequestStatusLastUpdate;if(n<this.VOICE_REQUEST_STATUS_TTL)return console.log(`[VoiceRequestStore] Usando cache de voice request status (${n}ms atr\xE1s)`),this.voiceRequestStatusCache}return this._voiceRequestStatusLoadingPromise?this._voiceRequestStatusLoadingPromise:(this.loadingData=!0,this._voiceRequestStatusLoadingPromise=(async()=>{var s,n;try{const t=await Se.get(`/api/pauta/${e}/voice-request/members`);let d=!1;if((s=t==null?void 0:t.data)!=null&&s.success){const v=(t.data.data.members||[]).find(A=>A.proponent_id===this.proponentId);d=(v==null?void 0:v.has_voice_request)&&!["finished","cancelled"].includes(v.request_status),this.hasRequest=d,this.requestOrder=(v==null?void 0:v.request_order)||null,this.requestedAt=(v==null?void 0:v.requested_at)||null}const u=await Se.get(`/api/pauta/${e}/voice-request/speeches/status`);if((n=u==null?void 0:u.data)!=null&&n.success){const v=(u.data.data.speeches||[]).filter(A=>A.proponent_id===this.proponentId);if(this.allSpeeches=v,v.length>0)if(v.sort((A,z)=>{var l,o;const q={speaking:0,paused:1,finished:2},_=(l=q[A.status])!=null?l:99,g=(o=q[z.status])!=null?o:99;return _!==g?_-g:new Date(z.started_at||0)-new Date(A.started_at||0)}),d){const A=v.find(z=>z.status==="speaking"||z.status==="paused");this.currentSpeech=A||null}else this.currentSpeech=v[0];else this.currentSpeech=null;this.currentSpeech?(this.updateRemainingTime(),this.currentSpeech.status==="speaking"?this.ensureSpeechInterval():this.clearSpeechInterval()):this.clearSpeechInterval()}this.voiceRequestStatusCache={hasRequest:this.hasRequest,requestOrder:this.requestOrder,requestedAt:this.requestedAt,currentSpeech:this.currentSpeech,allSpeeches:this.allSpeeches},this.voiceRequestStatusLastUpdate=Date.now()}catch(t){throw console.error("Erro ao carregar status de pedido de voz:",t),this.resetState(),t}finally{this.loadingData=!1,this._voiceRequestStatusLoadingPromise=null}})(),this._voiceRequestStatusLoadingPromise)}},invalidateVoiceRequestStatusCache(){this.voiceRequestStatusCache=null,this.voiceRequestStatusLastUpdate=null},resetState(){this.hasRequest=!1,this.requestOrder=null,this.requestedAt=null,this.currentSpeech=null,this.allSpeeches=[],this.remainingTime=0,this.clearSpeechInterval(),this.invalidateVoiceRequestStatusCache()}}});function Yt(e){const i=us(),s=c(()=>i.hasRequest),n=c(()=>i.requestOrder),t=c(()=>i.requestedAt),d=c(()=>i.currentSpeech),u=c(()=>i.allFinishedSpeeches),r=c(()=>i.remainingTime),v=c(()=>i.loadingData),A=c(()=>i.canSend);async function z(g=!1){return await i.loadStatus(e.value,g)}function q(){i.resetState()}function _(){i.updateRemainingTime()}return me(()=>i.currentSpeech,g=>{g?(i.updateRemainingTime(),g.status==="speaking"?i.ensureSpeechInterval():i.clearSpeechInterval()):(i.remainingTime=0,i.clearSpeechInterval())},{deep:!0,immediate:!0}),me(()=>{var g;return(g=i.currentSpeech)==null?void 0:g.additional_minutes},()=>{i.currentSpeech&&i.updateRemainingTime()}),{hasRequest:s,requestOrder:n,requestedAt:t,currentSpeech:d,allFinishedSpeeches:u,remainingTime:r,loadingData:v,canSend:A,loadStatus:z,resetState:q,updateRemainingTime:_}}const ze=Y(null),ft=Y(!1);function qt(){const e=c(()=>{var g;return((g=ze.value)==null?void 0:g.small_expedient_name)||"Pequeno Expediente"}),i=c(()=>{var g;return((g=ze.value)==null?void 0:g.large_expedient_name)||"Grande Expediente"}),s=c(()=>{var g,l;return(l=(g=ze.value)==null?void 0:g.enable_small_expedient_speech)!=null?l:!0}),n=c(()=>{var g,l;return(l=(g=ze.value)==null?void 0:g.enable_small_expedient_ata_voting)!=null?l:!1}),t=c(()=>{var g,l;return(l=(g=ze.value)==null?void 0:g.enable_small_expedient)!=null?l:!0}),d=c(()=>{var g,l;return(l=(g=ze.value)==null?void 0:g.enable_large_expedient)!=null?l:!0}),u=c(()=>{var g;return((g=ze.value)==null?void 0:g.voting_button_label)||"Ativar Vota\xE7\xE3o"}),r=c(()=>{var g,l;return(l=(g=ze.value)==null?void 0:g.enable_miscellaneous_subjects)!=null?l:!1}),v=c(()=>{var l;const g=(l=ze.value)==null?void 0:l.deduct_aside_time;return g===!0||g===1||g==="1"}),A=c(()=>{var g;return((g=ze.value)==null?void 0:g.miscellaneous_subjects_name)||"Assuntos Diversos"});async function z(){var g;if(!ft.value){if(ze.value)return ze.value;ft.value=!0;try{const{data:l}=await Se.get("/api/config/sessao/settings");if((l==null?void 0:l.success)&&(l==null?void 0:l.data)){ze.value=l.data;const o=(g=l.data)==null?void 0:g.deduct_aside_time;console.log("[aporte] useSessionSettings:loadSettings",{deduct_aside_time:o,type:typeof o,parsed:o===!0||o===1||o==="1"})}}catch(l){console.error("[useSessionSettings] Erro ao carregar configura\xE7\xF5es:",l)}finally{ft.value=!1}}}function q(g){return g==="small"?e.value:g==="large"?i.value:g==="miscellaneous"?A.value:""}function _(){ze.value=null}return{smallExpedientName:e,largeExpedientName:i,enableSmallExpedientSpeech:s,enableSmallExpedientAtaVoting:n,enableSmallExpedient:t,enableLargeExpedient:d,votingButtonLabel:u,enableMiscellaneousSubjects:r,deductAsideTime:v,miscellaneousSubjectsName:A,loadSettings:z,getExpedientName:q,clearCache:_}}var nt=Object.freeze(Object.defineProperty({__proto__:null,useSessionSettings:qt},Symbol.toStringTag,{value:"Module"}));const ds={class:"session-overview"},cs={class:"overview-card modern-card"},vs={class:"card-content"},gs={class:"summary-title"},fs={class:"summary-grid"},ms={class:"summary-item-col summary-item-col-left"},hs={class:"tw-relative"},ps={class:"summary-status tw-pt-2"},bs={key:0,class:"summary-item-col summary-item-col-right session-info-compact"},ws={class:"session-info-line"},Ss={key:0,class:"session-info-line"},ys={key:1,class:"session-info-line"},_s={key:0,class:"info-banner"},xs={key:0,class:"propositions-section"},qs={class:"propositions-title"},$s={class:"proposition-detail-section"},As={class:"detail-value"},Is={key:0,class:"proposition-detail-section"},ks={class:"detail-value"},Vs={key:1,class:"proposition-detail-section"},Rs={class:"detail-value"},zs={key:2,class:"proposition-detail-section"},Ts={class:"proponents-chips"},Cs={key:3,class:"proposition-detail-section"},Ps={class:"documents-buttons"},Ls={__name:"SessionOverview",props:{sessionData:{type:Object,default:null},selectedAgendaId:{type:[Number,String],default:null},loading:{type:Boolean,default:!1}},setup(e){const i=e,s=Ke();qt();const n=Wt(c(()=>i.selectedAgendaId));et(c(()=>i.selectedAgendaId),"small"),et(c(()=>i.selectedAgendaId),"large"),Kt(c(()=>i.selectedAgendaId)),Yt(c(()=>i.selectedAgendaId));const t=Y([]),d=Y(!1);async function u(){var _;if(!i.selectedAgendaId){t.value=[];return}d.value=!0;try{const g=await Se.get(`/api/pauta/${i.selectedAgendaId}/agenda-itens`,{params:{type:"proposition",item_status:"active"}}),l=((_=g==null?void 0:g.data)==null?void 0:_.data)||[];t.value=l.filter(o=>o.proposition).map(o=>{var y,L;return{id:o.proposition.id,number:o.proposition.number,year:o.proposition.year,title:o.proposition.title,ementa:o.proposition.ementa,description:o.proposition.description,species:((y=o.proposition.species)==null?void 0:y.name)||((L=o.proposition.species)==null?void 0:L.title)||null,proponents:o.proposition.proponents||[],documents:o.proposition.documents||[],file_url:o.proposition.file_url||null,protocol_document:o.proposition.protocol_document||null}})}catch(g){console.error("[SessionOverview] Erro ao carregar proposi\xE7\xF5es:",g),t.value=[]}finally{d.value=!1}}me(()=>i.selectedAgendaId,_=>{_?u():t.value=[]},{immediate:!0});function r(_){if(!(_!=null&&_.protocol_document))return null;const g=_.protocol_document;return g.signed_file_url||g.file_url||null}function v(_){return _!=null&&_.protocol_document?_.protocol_document.title||"Abrir PDF do Protocolo":"Abrir PDF"}ut(()=>{i.selectedAgendaId&&u()});function A(){if(i.loading)return"Carregando...";if(i.sessionData){const _=i.sessionData.name||"Em Andamento";return _.length>20?_.substring(0,20)+"...":_}return"Aguardando"}function z(){var _,g,l,o,y,L,E,S;return n?(_=n.quorumFinalized)!=null&&_.value?(g=n.isPresent)!=null&&g.value?"Presente":(l=n.isAbsentJustified)!=null&&l.value?"Ausente Justificado":"Ausente":(o=n.quorumStarted)!=null&&o.value?(y=n.isPresent)!=null&&y.value?"Presente":"Aguardando":(L=n.quorumFinalizedAt)!=null&&L.value?(E=n.isPresent)!=null&&E.value?"Presente":(S=n.isAbsentJustified)!=null&&S.value?"Ausente Justificado":"Ausente":"Aguardando":"Aguardando"}function q(){var _,g,l,o;return n?(_=n.quorumFinalized)!=null&&_.value?(g=n.isPresent)!=null&&g.value?"status-success":"status-error":(l=n.quorumStarted)!=null&&l.value?(o=n.isPresent)!=null&&o.value?"status-success":"status-warning":"status-info":"status-info"}return(_,g)=>{var l,o,y,L,E,S,V,h,p,R,f,w,M,B;return m(),P("div",ds,[a("div",cs,[a("div",vs,[a("div",gs,[$(j,{name:"dashboard",size:"20px",class:"tw-mr-2"}),g[0]||(g[0]=pe(" Resumo R\xE1pido ",-1))]),a("div",fs,[a("div",{class:Q(["summary-item summary-item-cols",{active:i.sessionData}])},[a("div",ms,[a("div",hs,[$(j,{name:"event",color:i.sessionData?"primary":"grey",size:"30px"},null,8,["color"]),k(s).isConnected?(m(),K(Qt,{key:0,color:"positive",size:"xs",class:"session-badge"})):O("",!0)]),a("div",ps,T(A()),1)]),i.sessionData?(m(),P("div",bs,[a("div",ws,T(i.sessionData.session_date_formatted||i.sessionData.session_date||"N/A"),1),i.sessionData.session_time?(m(),P("div",Ss,T(i.sessionData.session_time),1)):O("",!0),i.sessionData.session_type?(m(),P("div",ys,T(i.sessionData.session_type),1)):O("",!0)])):O("",!0)],2),a("div",{class:Q(["summary-item",{active:((o=(l=k(n))==null?void 0:l.quorumStarted)==null?void 0:o.value)||((L=(y=k(n))==null?void 0:y.quorumFinalized)==null?void 0:L.value)||((S=(E=k(n))==null?void 0:E.quorumFinalizedAt)==null?void 0:S.value)}])},[$(j,{name:(h=(V=k(n))==null?void 0:V.isPresent)!=null&&h.value?"check_circle":"groups",color:(R=(p=k(n))==null?void 0:p.isPresent)!=null&&R.value?"positive":((w=(f=k(n))==null?void 0:f.quorumFinalized)==null?void 0:w.value)||((B=(M=k(n))==null?void 0:M.quorumFinalizedAt)==null?void 0:B.value)?"primary":"grey",size:"24px"},null,8,["name","color"]),g[1]||(g[1]=a("div",{class:"summary-label"},"Qu\xF3rum",-1)),a("div",{class:Q(["summary-status",q()])},T(z()),3)],2)]),i.selectedAgendaId?O("",!0):(m(),P("div",_s,[$(j,{name:"info",color:"primary",size:"18px",class:"tw-mr-2"}),g[2]||(g[2]=a("span",{class:"banner-text"},"Aguardando sess\xE3o ser iniciada...",-1))]))])]),i.selectedAgendaId&&t.value.length>0?(m(),P("div",xs,[a("div",qs,[$(j,{name:"description",size:"20px",class:"tw-mr-2"}),g[3]||(g[3]=pe(" Proposi\xE7\xF5es do Dia ",-1))]),$(xa,{separator:"",class:"propositions-list"},{default:D(()=>[(m(!0),P(ke,null,Ce(t.value,F=>(m(),K(Jt,{key:F.id,icon:"description",class:"proposition-item","header-class":"proposition-header"},{header:D(()=>[$(Ge,{avatar:""},{default:D(()=>[$(j,{name:"description",color:"primary"})]),_:1}),$(Ge,null,{default:D(()=>[$(Xe,{class:"proposition-number"},{default:D(()=>[pe(T(F.number)+"/"+T(F.year),1)]),_:2},1024),$(Xe,{caption:"",class:"proposition-title"},{default:D(()=>[pe(T(F.title||F.ementa||"Sem t\xEDtulo"),1)]),_:2},1024)]),_:2},1024)]),default:D(()=>[$(Oe,{flat:"",class:"proposition-details"},{default:D(()=>[$(Ee,null,{default:D(()=>[a("div",$s,[g[4]||(g[4]=a("div",{class:"detail-label"},"Ementa",-1)),a("div",As,T(F.title||F.ementa||F.description||"N/A"),1)]),F.description&&F.description!==F.title?(m(),P("div",Is,[g[5]||(g[5]=a("div",{class:"detail-label"},"Descri\xE7\xE3o",-1)),a("div",ks,T(F.description),1)])):O("",!0),F.species?(m(),P("div",Vs,[g[6]||(g[6]=a("div",{class:"detail-label"},"Esp\xE9cie",-1)),a("div",Rs,T(F.species),1)])):O("",!0),F.proponents&&F.proponents.length>0?(m(),P("div",zs,[g[7]||(g[7]=a("div",{class:"detail-label"},"Proponentes",-1)),a("div",Ts,[(m(!0),P(ke,null,Ce(F.proponents,I=>(m(),K(xt,{key:I.id,color:"primary","text-color":"white",icon:"person",size:"sm"},{default:D(()=>[pe(T(I.name)+" ",1),I.party?(m(),K(ot,{key:0},{default:D(()=>[pe(T(I.party),1)]),_:2},1024)):O("",!0)]),_:2},1024))),128))])])):O("",!0),F.documents&&F.documents.length>0||F.file_url||F.protocol_document?(m(),P("div",Cs,[g[8]||(g[8]=a("div",{class:"detail-label"},"Documentos",-1)),a("div",Ps,[(m(!0),P(ke,null,Ce(F.documents,I=>(m(),K(qe,{key:I.id,href:I.file_url||I.signed_file_url,target:"_blank",color:"primary",outline:"",icon:"picture_as_pdf",label:I.title||I.original_filename||"Abrir PDF",size:"sm",class:"document-button"},null,8,["href","label"]))),128)),F.file_url&&(!F.documents||F.documents.length===0)?(m(),K(qe,{key:0,href:F.file_url,target:"_blank",color:"primary",outline:"",icon:"description",label:"Abrir Arquivo",size:"sm",class:"document-button"},null,8,["href"])):O("",!0),r(F)&&(!F.documents||F.documents.length===0)?(m(),K(qe,{key:1,href:r(F),target:"_blank",color:"primary",outline:"",icon:"picture_as_pdf",label:v(F),size:"sm",class:"document-button"},null,8,["href","label"])):O("",!0)])])):O("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):O("",!0)])}}};var Es=Pe(Ls,[["__scopeId","data-v-23cf50f4"]]),Xt=De({name:"QInnerLoading",props:{...wt,...ua,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:i}){const s=He(),n=St(e,s.proxy.$q),{transitionProps:t,transitionStyle:d}=da(e),u=c(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(n.value===!0?" q-inner-loading--dark":"")),r=c(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function v(){const z=[G(Dt,{size:e.size,color:e.color})];return e.label!==void 0&&z.push(G("div",{class:r.value,style:e.labelStyle},[e.label])),z}function A(){return e.showing===!0?G("div",{class:u.value,style:d.value},i.default!==void 0?i.default():v()):null}return()=>G(Tt,t.value,A)}});function Fe(e){if(!e)return"";try{return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}}function Rt(e){if(e==null||e<=0)return"0:00";const i=Math.floor(Number(e)),s=Math.floor(i/60),n=i%60;return`${s}:${n.toString().padStart(2,"0")}`}const Ms={class:"card-header quorum-header"},Fs={class:"tw-flex tw-items-center tw-gap-3"},Ds={class:"card-icon-wrapper"},js={class:"tw-flex tw-flex-col tw-gap-2"},Ns={key:0,class:"status-message text-grey-8"},Os={key:1,class:"status-hint text-grey-6"},Bs={class:"status-avatar status-present"},Us={class:"status-avatar status-waiting"},Qs={class:"tw-flex tw-flex-col tw-gap-2"},Js={key:0,class:"status-message text-grey-8"},Hs={key:1,class:"status-hint text-grey-6"},Ws={class:"status-avatar status-absent"},Gs={class:"status-avatar status-waiting"},Ks={key:5,class:"tw-w-full"};const Ys={__name:"QuorumCard",props:{isPresent:{type:Boolean,default:!1},isAbsentJustified:{type:Boolean,default:!1},absenceReason:{type:String,default:null},quorumFinalized:{type:Boolean,default:!1},quorumStarted:{type:Boolean,default:!1},quorumFinalizedAt:{type:String,default:null},selectedAgendaId:{type:Number,default:null},canSend:{type:Boolean,default:!1},loadingQuorum:{type:Boolean,default:!1},loadingAttendance:{type:Boolean,default:!1},loadingJustify:{type:Boolean,default:!1}},emits:["toggle-attendance","justify-absence"],setup(e,{emit:i}){const s=e,n=i,t=Y(!1),d=Y(""),u=c(()=>!s.canSend||!s.selectedAgendaId||!s.quorumStarted||s.quorumFinalized||s.isAbsentJustified||s.loadingAttendance||s.loadingQuorum),r=c(()=>s.canSend?s.selectedAgendaId?s.quorumStarted?s.quorumFinalized?"Qu\xF3rum foi finalizado":s.isAbsentJustified?"N\xE3o \xE9 poss\xEDvel marcar presen\xE7a quando h\xE1 justificativa de aus\xEAncia":s.loadingAttendance?"Processando presen\xE7a...":s.loadingQuorum?"Carregando qu\xF3rum...":"":"Qu\xF3rum ainda n\xE3o foi iniciado":"Agenda n\xE3o selecionada":"N\xE3o \xE9 poss\xEDvel enviar (verifique unit_id e proponent_id)");function v(){if(console.log("[QuorumCard] handleToggleAttendance chamado",{canSend:s.canSend,selectedAgendaId:s.selectedAgendaId,quorumStarted:s.quorumStarted,quorumFinalized:s.quorumFinalized,loadingAttendance:s.loadingAttendance,loadingQuorum:s.loadingQuorum,isButtonDisabled:u.value}),u.value){console.warn("[QuorumCard] Bot\xE3o est\xE1 desabilitado:",r.value);return}console.log("[QuorumCard] Emitindo toggle-attendance"),n("toggle-attendance")}function A(){t.value=!1,d.value=""}function z(){!d.value||!d.value.trim()||(n("justify-absence",d.value.trim()),t.value=!1,d.value="")}return(q,_)=>(m(),K(Oe,{flat:"",class:"modern-card quorum-card tw-h-full tw-relative tw-overflow-hidden"},{default:D(()=>[a("div",Ms,[a("div",Fs,[a("div",Ds,[$(j,{name:"groups",size:"24px",class:"tw-text-white"})]),_[3]||(_[3]=a("div",{class:"card-title"},"Qu\xF3rum",-1))])]),$(Ee,{class:"tw-relative tw-p-4",style:{"min-height":"120px"}},{default:D(()=>[$(Xt,{showing:e.loadingQuorum,color:"primary",size:"50px"},null,8,["showing"]),e.loadingQuorum?O("",!0):(m(),P(ke,{key:0},[e.quorumFinalized?(m(),K(Re,{key:0,class:"modern-banner banner-finalized q-mb-3",dense:""},{avatar:D(()=>[a("div",{class:Q(["status-avatar",e.isPresent?"status-present":e.isAbsentJustified?"status-waiting":"status-absent"])},[$(j,{name:e.isPresent?"check_circle":e.isAbsentJustified?"event_busy":"cancel",size:"24px"},null,8,["name"])],2)]),default:D(()=>[a("div",js,[_[5]||(_[5]=a("div",{class:"status-title"},"Qu\xF3rum Finalizado",-1)),a("div",{class:Q(["status-message",e.isPresent?"text-positive":e.isAbsentJustified?"text-info":"text-negative"])},T(e.isPresent?"Voc\xEA estava presente no qu\xF3rum":e.isAbsentJustified?"Falta Justificada":"Voc\xEA n\xE3o estava presente no qu\xF3rum"),3),e.isAbsentJustified&&e.absenceReason?(m(),P("div",Ns,[_[4]||(_[4]=a("strong",null,"Justificativa:",-1)),pe(" "+T(e.absenceReason),1)])):O("",!0),e.quorumFinalizedAt?(m(),P("div",Os," Finalizado em: "+T(k(Fe)(e.quorumFinalizedAt)),1)):O("",!0),_[6]||(_[6]=a("div",{class:"status-hint text-grey-6"}," Aguarde um novo qu\xF3rum ser iniciado. ",-1))])]),_:1})):e.quorumStarted&&e.isPresent?(m(),K(Re,{key:1,class:"modern-banner banner-success q-mb-3",dense:""},{avatar:D(()=>[a("div",Bs,[$(j,{name:"check_circle",size:"24px"})])]),default:D(()=>[_[7]||(_[7]=a("div",{class:"status-title"},"Voc\xEA est\xE1 presente no qu\xF3rum",-1))]),_:1})):e.quorumStarted&&!e.isPresent&&e.isAbsentJustified?(m(),K(Re,{key:2,class:"modern-banner banner-info q-mb-3",dense:""},{avatar:D(()=>[a("div",Us,[$(j,{name:"event_busy",size:"24px"})])]),default:D(()=>[a("div",Qs,[_[9]||(_[9]=a("div",{class:"status-title"},"Falta Justificada",-1)),e.absenceReason?(m(),P("div",Js,[_[8]||(_[8]=a("strong",null,"Justificativa:",-1)),pe(" "+T(e.absenceReason),1)])):(m(),P("div",Hs," Sua aus\xEAncia foi justificada. "))])]),_:1})):e.quorumStarted&&!e.isPresent&&!e.isAbsentJustified?(m(),K(Re,{key:3,class:"modern-banner banner-warning q-mb-3",dense:""},{avatar:D(()=>[a("div",Ws,[$(j,{name:"person_off",size:"24px"})])]),default:D(()=>[_[10]||(_[10]=a("div",{class:"tw-flex tw-flex-col tw-gap-1"},[a("div",{class:"status-title"},"Voc\xEA n\xE3o est\xE1 presente no qu\xF3rum"),a("div",{class:"status-hint text-grey-6"}," Marque sua presen\xE7a para participar. ")],-1))]),_:1})):e.quorumStarted?O("",!0):(m(),K(Re,{key:4,class:"modern-banner banner-info q-mb-3",dense:""},{avatar:D(()=>[a("div",Gs,[$(j,{name:"schedule",size:"24px"})])]),default:D(()=>[_[11]||(_[11]=a("div",{class:"status-title"},"Aguardando o in\xEDcio do qu\xF3rum.",-1))]),_:1})),!e.quorumFinalized&&e.quorumStarted&&!e.isPresent&&!e.isAbsentJustified?(m(),P("div",Ks,[$(qe,{class:"tw-w-full modern-action-btn btn-add",icon:"how_to_reg",label:"Marcar Presen\xE7a",disable:u.value,loading:e.loadingAttendance||e.loadingQuorum,size:"md",unelevated:"",rounded:"",onClick:v},{default:D(()=>[u.value?(m(),K(ot,{key:0,class:"bg-red"},{default:D(()=>[pe(T(r.value),1)]),_:1})):O("",!0)]),_:1},8,["disable","loading"]),$(qe,{class:"tw-w-full modern-action-btn btn-justify",icon:"event_busy",label:"Justificar",disable:u.value,loading:e.loadingJustify||e.loadingQuorum,size:"md",unelevated:"",rounded:"",onClick:_[0]||(_[0]=g=>t.value=!0)},{default:D(()=>[u.value?(m(),K(ot,{key:0,class:"bg-red"},{default:D(()=>[pe(T(r.value),1)]),_:1})):O("",!0)]),_:1},8,["disable","loading"])])):O("",!0),O("",!0)],64))]),_:1}),$(dt,{modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=g=>t.value=g),persistent:""},{default:D(()=>[$(Oe,{style:{"min-width":"350px","max-width":"500px"}},{default:D(()=>[$(Ee,null,{default:D(()=>[..._[12]||(_[12]=[a("div",{class:"text-h6"},"Justificar Aus\xEAncia",-1)])]),_:1}),$(Ee,{class:"q-pt-none"},{default:D(()=>[$(ca,{modelValue:d.value,"onUpdate:modelValue":_[1]||(_[1]=g=>d.value=g),type:"textarea",label:"Motivo da aus\xEAncia",placeholder:"Digite o motivo da sua aus\xEAncia...",autofocus:"",rules:[g=>g&&g.trim()||"Por favor, informe o motivo da aus\xEAncia"],rows:"4",outlined:"",counter:"",maxlength:"500"},null,8,["modelValue","rules"])]),_:1}),$(va,{align:"right",class:"text-primary"},{default:D(()=>[$(qe,{flat:"",label:"Cancelar",onClick:A}),$(qe,{flat:"",label:"Justificar",color:"primary",loading:e.loadingJustify,disable:!d.value||!d.value.trim(),onClick:z},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};var Xs=Pe(Ys,[["__scopeId","data-v-601c49e9"]]);const Zs={class:"quorum-tab"},en={class:"overview-card modern-card"},tn={class:"card-content"},an={class:"summary-title"},sn={__name:"QuorumTab",props:{sessionId:{type:Number,default:null},sessionData:{type:Object,default:null}},setup(e){const i=e,s=he("quorum"),n=he("sessionAgenda"),t=c(()=>{var r;return i.sessionId||((r=n==null?void 0:n.selectedAgendaId)==null?void 0:r.value)||null});function d(){s!=null&&s.toggleAttendance?s.toggleAttendance():console.error("[QuorumTab] quorum.toggleAttendance n\xE3o est\xE1 dispon\xEDvel")}function u(r){s!=null&&s.justifyAbsence?s.justifyAbsence(r):console.error("[QuorumTab] quorum.justifyAbsence n\xE3o est\xE1 dispon\xEDvel")}return(r,v)=>{var A,z,q,_,g,l,o,y,L,E,S,V,h,p,R,f,w,M,B,F;return m(),P("div",Zs,[a("div",en,[a("div",tn,[a("div",an,[$(j,{name:"groups",size:"20px",class:"tw-mr-2"}),v[0]||(v[0]=pe(" Qu\xF3rum ",-1))]),$(Xs,{"is-present":((z=(A=k(s))==null?void 0:A.isPresent)==null?void 0:z.value)||!1,"is-absent-justified":((_=(q=k(s))==null?void 0:q.isAbsentJustified)==null?void 0:_.value)||!1,"absence-reason":((l=(g=k(s))==null?void 0:g.absenceReason)==null?void 0:l.value)||null,"quorum-finalized":((y=(o=k(s))==null?void 0:o.quorumFinalized)==null?void 0:y.value)||!1,"quorum-started":((E=(L=k(s))==null?void 0:L.quorumStarted)==null?void 0:E.value)||!1,"quorum-finalized-at":((V=(S=k(s))==null?void 0:S.quorumFinalizedAt)==null?void 0:V.value)||null,"selected-agenda-id":t.value,"can-send":((p=(h=k(s))==null?void 0:h.canSend)==null?void 0:p.value)||!1,"loading-quorum":((f=(R=k(s))==null?void 0:R.loadingQuorum)==null?void 0:f.value)||!1,"loading-attendance":((M=(w=k(s))==null?void 0:w.loadingAttendance)==null?void 0:M.value)||!1,"loading-justify":((F=(B=k(s))==null?void 0:B.loadingJustify)==null?void 0:F.value)||!1,onToggleAttendance:d,onJustifyAbsence:u},null,8,["is-present","is-absent-justified","absence-reason","quorum-finalized","quorum-started","quorum-finalized-at","selected-agenda-id","can-send","loading-quorum","loading-attendance","loading-justify"])])])])}}};var nn=Pe(sn,[["__scopeId","data-v-013d4040"]]);const on={class:"tw-flex tw-items-center tw-gap-2"},ln={class:"tw-flex tw-flex-col tw-gap-1"},rn={class:Q("text-caption tw-font-bold tw-text-red-700")},un={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},dn={class:"tw-space-y-2"},cn={key:0,class:"tw-text-gray-500 tw-ml-2"},vn={class:"tw-flex tw-flex-col tw-gap-1"},gn={class:Q("text-body2 tw-font-bold tw-text-green-700")},fn={key:0,class:"text-caption"},mn={key:1,class:"text-caption"},hn={class:"tw-flex tw-flex-col tw-gap-1"},pn={class:"text-caption"},bn={__name:"ExpedientCard",props:{title:{type:String,required:!0},expedientLabel:{type:String,required:!0},icon:{type:String,required:!0},headerClass:{type:String,required:!0},headerColor:{type:String,required:!0},buttonColor:{type:String,required:!0},buttonIcon:{type:String,required:!0},isRegistered:{type:Boolean,default:!1},isPresent:{type:Boolean,default:!1},started:{type:Boolean,default:!1},finalized:{type:Boolean,default:!1},finalizedAt:{type:String,default:null},registrationOrder:{type:Number,default:null},registeredAt:{type:String,default:null},selectedAgendaId:{type:Number,default:null},canSend:{type:Boolean,default:!1},loadingData:{type:Boolean,default:!1},loadingAction:{type:Boolean,default:!1},currentSpeech:{type:Object,default:null},remainingTime:{type:Number,default:0},finishedSpeech:{type:Object,default:null},finishedSpeechTotalMinutes:{type:Number,default:0},finishedSpeechUsedMinutes:{type:Number,default:0},finishedSpeechUsedSeconds:{type:Number,default:0},finishedSpeechFinishedAt:{type:String,default:null},sessionInteractions:{type:Array,default:()=>[]}},emits:["toggle-registration"],setup(e,{emit:i}){const s=e,n=i,t=c(()=>!s.canSend||!s.selectedAgendaId||!s.started||s.finalized||!s.isPresent||s.loadingAction),d=c(()=>s.canSend?s.selectedAgendaId?s.started?s.finalized?"Inscri\xE7\xF5es foram finalizadas":s.isPresent?s.loadingAction?"Processando inscri\xE7\xE3o...":"":"Voc\xEA precisa estar presente no qu\xF3rum para se inscrever":"Inscri\xE7\xF5es ainda n\xE3o foram iniciadas":"Agenda n\xE3o selecionada":"N\xE3o \xE9 poss\xEDvel enviar (verifique unit_id e proponent_id)");function u(){if(console.log(`[ExpedientCard ${s.title}] handleToggleRegistration chamado`,{canSend:s.canSend,selectedAgendaId:s.selectedAgendaId,started:s.started,finalized:s.finalized,loadingAction:s.loadingAction,isButtonDisabled:t.value}),t.value){console.warn(`[ExpedientCard ${s.title}] Bot\xE3o est\xE1 desabilitado:`,d.value);return}console.log(`[ExpedientCard ${s.title}] Emitindo toggle-registration`),n("toggle-registration")}return(r,v)=>(m(),K(Oe,{flat:"",bordered:"",class:"tw-h-full tw-relative tw-w-full"},{default:D(()=>[$(Ee,{class:Q(`tw-flex tw-items-center tw-justify-between ${e.headerClass} tw-text-white ${r.$q.screen.lt.md?"tw-py-1":"tw-py-2"}`)},{default:D(()=>[a("div",on,[$(j,{name:e.icon,size:r.$q.screen.lt.md?"18px":"20px"},null,8,["name","size"]),a("div",{class:Q(`${r.$q.screen.lt.md?"text-body2":"text-subtitle1"} tw-font-semibold`)},T(e.title),3)])]),_:1},8,["class"]),$(Ee,{class:Q(`tw-relative tw-w-full ${r.$q.screen.lt.md?"tw-py-1":"tw-py-3"}`),style:jt(r.$q.screen.lt.md?"min-height: 60px":"min-height: 80px")},{default:D(()=>[$(Xt,{showing:e.loadingData,color:e.headerColor,size:"50px"},null,8,["showing","color"]),e.loadingData?O("",!0):(m(),P(ke,{key:0},[e.finalized&&e.isRegistered&&!e.finishedSpeech?(m(),K(Re,{key:0,class:Q(`text-black ${r.$q.screen.lt.md?"q-mb-1":"q-mb-2"}`),dense:""},{avatar:D(()=>[$(j,{name:"check_circle",color:"green",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",{class:Q(`tw-flex tw-flex-col ${r.$q.screen.lt.md?"tw-gap-0":"tw-gap-1"}`)},[a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body2"} tw-font-bold tw-text-green-700`)}," Inscri\xE7\xF5es Finalizadas - Voc\xEA est\xE1 inscrito ",2),e.registrationOrder?(m(),P("div",{key:0,class:Q(r.$q.screen.lt.md?"text-caption tw-text-xs":"text-caption")}," Sua posi\xE7\xE3o na fila: "+T(e.registrationOrder)+"\xBA ",3)):O("",!0)],2)]),_:1},8,["class"])):e.finalized&&!e.isRegistered&&!e.isPresent&&!e.finishedSpeech?(m(),K(Re,{key:1,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"person_off",color:"red",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[v[0]||(v[0]=a("div",{class:"tw-flex tw-flex-col tw-gap-1"},[a("div",{class:"text-body2 tw-font-semibold"}," Inscri\xE7\xF5es Finalizadas "),a("div",{class:"text-caption"}," Voc\xEA n\xE3o est\xE1 presente no qu\xF3rum. ")],-1))]),_:1})):e.finalized&&!e.isRegistered&&e.isPresent&&!e.finishedSpeech?(m(),K(Re,{key:2,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"cancel",color:"red",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",ln,[v[1]||(v[1]=a("div",{class:"text-body2 tw-font-semibold"}," Inscri\xE7\xF5es Finalizadas ",-1)),a("div",rn," Voc\xEA n\xE3o est\xE1 inscrito no "+T(e.expedientLabel)+". ",1)])]),_:1})):O("",!0),e.currentSpeech&&e.currentSpeech.status==="speaking"?(m(),K(Re,{key:3,class:Q(`bg-green-3 text-black ${r.$q.screen.lt.md?"q-mb-1":"q-mb-2"}`),dense:""},{avatar:D(()=>[$(j,{name:"mic",color:"green",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",{class:Q(`tw-flex tw-flex-col ${r.$q.screen.lt.md?"tw-gap-0":"tw-gap-1"}`)},[a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body2"} tw-font-semibold`)},"Voc\xEA est\xE1 falando",2),a("div",{class:Q(`${r.$q.screen.lt.md?"text-body2":"text-h6"} tw-font-bold tw-text-green-700`)}," Tempo restante: "+T(k(Rt)(e.remainingTime)),3)],2)]),_:1},8,["class"])):O("",!0),e.currentSpeech&&e.currentSpeech.status==="paused"?(m(),K(Re,{key:4,class:Q(`bg-yellow-3 text-black ${r.$q.screen.lt.md?"q-mb-1":"q-mb-2"}`),dense:""},{avatar:D(()=>[$(j,{name:"pause",color:"orange",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",{class:Q(`tw-flex tw-flex-col ${r.$q.screen.lt.md?"tw-gap-0":"tw-gap-1"}`)},[a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body2"} tw-font-semibold`)}," Sua fala est\xE1 pausada ",2),a("div",{class:Q(`${r.$q.screen.lt.md?"text-body2":"text-h6"} tw-font-bold tw-text-yellow-700`)}," Tempo restante: "+T(k(Rt)(e.remainingTime)),3)],2)]),_:1},8,["class"])):O("",!0),e.finishedSpeech?(m(),K(Re,{key:5,class:Q(`text-black ${r.$q.screen.lt.md?"q-mb-1":"q-mb-2"}`),dense:""},{avatar:D(()=>[$(j,{name:"check_circle",color:"blue",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",{class:Q(`tw-flex tw-flex-col ${r.$q.screen.lt.md?"tw-gap-0":"tw-gap-1"}`)},[a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body2"} tw-font-semibold`)}," Sua fala foi finalizada ",2),a("div",{class:Q(`tw-grid tw-grid-cols-2 ${r.$q.screen.lt.md?"tw-gap-1 tw-mt-0":"tw-gap-2 tw-mt-2"}`)},[a("div",null,[a("div",{class:Q(r.$q.screen.lt.md?"text-caption tw-text-xs":"text-caption tw-text-gray-600")}," Tempo Total Alocado ",2),a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body1"} tw-font-semibold`)},T(e.finishedSpeechTotalMinutes)+" min ",3)]),a("div",null,[a("div",{class:Q(r.$q.screen.lt.md?"text-caption tw-text-xs":"text-caption tw-text-gray-600")}," Tempo Utilizado ",2),a("div",{class:Q(`${r.$q.screen.lt.md?"text-caption":"text-body1"} tw-font-semibold`)},T(e.finishedSpeechUsedMinutes)+" min "+T(e.finishedSpeechUsedSeconds)+" s ",3)])],2),e.finishedSpeechFinishedAt?(m(),P("div",{key:0,class:Q(`${r.$q.screen.lt.md?"text-caption tw-text-xs":"text-caption"} tw-text-gray-600 ${r.$q.screen.lt.md?"tw-mt-0":"tw-mt-1"}`)}," Finalizada em: "+T(k(Fe)(e.finishedSpeechFinishedAt)),3)):O("",!0)],2)]),_:1},8,["class"])):O("",!0),e.sessionInteractions.length>0?(m(),K(Oe,{key:6,flat:"",bordered:"",class:"q-mb-2 tw-bg-blue-50"},{default:D(()=>[$(Ee,{class:"tw-py-3"},{default:D(()=>[a("div",un,[$(j,{name:"history",color:"primary",size:"20px"}),v[2]||(v[2]=a("div",{class:"text-body2 tw-font-semibold"}," Suas Intera\xE7\xF5es na Sess\xE3o ",-1))]),a("div",dn,[(m(!0),P(ke,null,Ce(e.sessionInteractions,(A,z)=>(m(),P("div",{key:z,class:"tw-text-sm tw-text-gray-700"},[$(j,{name:A.icon,color:A.color,size:"16px",class:"tw-mr-2"},null,8,["name","color"]),a("span",null,T(A.label),1),A.time?(m(),P("span",cn," ("+T(A.time)+") ",1)):O("",!0)]))),128))])]),_:1})]),_:1})):e.started&&e.isRegistered?(m(),K(Re,{key:7,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"check_circle",color:"green",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",vn,[a("div",gn," Voc\xEA est\xE1 inscrito no "+T(e.title),1),e.registrationOrder?(m(),P("div",fn," Sua posi\xE7\xE3o na fila: "+T(e.registrationOrder)+"\xBA ",1)):O("",!0),e.registeredAt?(m(),P("div",mn," Inscrito em: "+T(k(Fe)(e.registeredAt)),1)):O("",!0)])]),_:1})):e.started&&!e.isPresent?(m(),K(Re,{key:8,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"person_off",color:"red",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[a("div",hn,[v[3]||(v[3]=a("div",{class:"text-body2 tw-font-semibold"}," Voc\xEA n\xE3o est\xE1 presente no qu\xF3rum ",-1)),a("div",pn," Marque sua presen\xE7a no qu\xF3rum para poder se inscrever no "+T(e.expedientLabel)+". ",1)])]),_:1})):e.started&&!e.isRegistered&&e.isPresent?(m(),K(Re,{key:9,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"assignment",color:"blue",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[v[4]||(v[4]=a("div",{class:"tw-flex tw-flex-col tw-gap-1"},[a("div",{class:"text-body2 tw-font-semibold"},"Inscri\xE7\xF5es abertas"),a("div",{class:"text-caption"},"Clique no bot\xE3o para se inscrever.")],-1))]),_:1})):!e.started&&!e.finalized?(m(),K(Re,{key:10,class:"text-black q-mb-2",dense:""},{avatar:D(()=>[$(j,{name:"schedule",color:"blue",size:r.$q.screen.lt.md?"16px":"20px"},null,8,["size"])]),default:D(()=>[v[5]||(v[5]=a("div",{class:"text-body2"},"Aguardando o in\xEDcio das inscri\xE7\xF5es.",-1))]),_:1})):O("",!0),e.started&&!e.finalized&&e.isPresent?(m(),K(qe,{key:11,class:"full-width q-mt-sm",color:e.isRegistered?"negative":e.buttonColor,icon:e.isRegistered?"cancel":e.buttonIcon,label:e.isRegistered?"Remover Inscri\xE7\xE3o":"Inscrever",disable:t.value,loading:e.loadingAction,size:"md",dense:"",onClick:u},{default:D(()=>[t.value?(m(),K(ot,{key:0,class:"bg-red"},{default:D(()=>[pe(T(d.value),1)]),_:1})):O("",!0)]),_:1},8,["color","icon","label","disable","loading"])):O("",!0)],64))]),_:1},8,["class","style"])]),_:1}))}};var $t=Pe(bn,[["__scopeId","data-v-fdc1449a"]]);const wn={class:"expedient-tab"},Sn={class:"overview-card modern-card"},yn={class:"card-content"},_n={class:"summary-title"},xn={key:1,class:"tw-text-center tw-text-gray-500 tw-py-8"},qn={__name:"SmallExpedientTab",props:{sessionId:{type:Number,default:null},sessionData:{type:Object,default:null}},setup(e){const i=e,s=he("sessionSettings"),n=he("quorum"),t=he("smallExpedient"),d=he("smallSpeech"),u=he("sessionInteractions"),r=he("sessionAgenda"),v=c(()=>{var A;return i.sessionId||((A=r==null?void 0:r.selectedAgendaId)==null?void 0:A.value)||null});return(A,z)=>{var q,_,g,l,o,y,L,E,S,V,h,p,R,f,w,M,B,F,I,J,te,oe,U,se,X,ve,ge,fe,ne,ee,x,le,b,C,H,ae,W,be,we,xe,Ie,de,Le,$e,Ze;return m(),P("div",wn,[a("div",Sn,[a("div",yn,[a("div",_n,[$(j,{name:"timer",size:"20px",class:"tw-mr-2"}),pe(" "+T(((_=(q=k(s))==null?void 0:q.smallExpedientName)==null?void 0:_.value)||"Pequeno Expediente"),1)]),(l=(g=k(s))==null?void 0:g.enableSmallExpedientSpeech)!=null&&l.value?(m(),K($t,{key:0,title:((y=(o=k(s))==null?void 0:o.smallExpedientName)==null?void 0:y.value)||"Pequeno Expediente","expedient-label":(((E=(L=k(s))==null?void 0:L.smallExpedientName)==null?void 0:E.value)||"Pequeno Expediente").toLowerCase(),icon:"timer","header-class":"bg-secondary","header-color":"secondary","button-color":"secondary","button-icon":"assignment","is-registered":((V=(S=k(t))==null?void 0:S.isRegistered)==null?void 0:V.value)||!1,"is-present":((p=(h=k(n))==null?void 0:h.isPresent)==null?void 0:p.value)||!1,started:((f=(R=k(t))==null?void 0:R.started)==null?void 0:f.value)||!1,finalized:((M=(w=k(t))==null?void 0:w.finalized)==null?void 0:M.value)||!1,"finalized-at":((F=(B=k(t))==null?void 0:B.finalizedAt)==null?void 0:F.value)||null,"registration-order":((J=(I=k(t))==null?void 0:I.registrationOrder)==null?void 0:J.value)||null,"registered-at":((oe=(te=k(t))==null?void 0:te.registeredAt)==null?void 0:oe.value)||null,"selected-agenda-id":v.value,"can-send":((se=(U=k(t))==null?void 0:U.canSend)==null?void 0:se.value)||!1,"loading-data":((ve=(X=k(t))==null?void 0:X.loadingData)==null?void 0:ve.value)||!1,"loading-action":((fe=(ge=k(t))==null?void 0:ge.loadingAction)==null?void 0:fe.value)||!1,"current-speech":((ee=(ne=k(d))==null?void 0:ne.currentSpeech)==null?void 0:ee.value)||null,"remaining-time":((le=(x=k(d))==null?void 0:x.remainingTime)==null?void 0:le.value)||null,"finished-speech":((C=(b=k(d))==null?void 0:b.finishedSpeech)==null?void 0:C.value)||null,"finished-speech-total-minutes":((ae=(H=k(d))==null?void 0:H.finishedSpeechTotalMinutes)==null?void 0:ae.value)||0,"finished-speech-used-minutes":((be=(W=k(d))==null?void 0:W.finishedSpeechUsedMinutes)==null?void 0:be.value)||0,"finished-speech-used-seconds":((xe=(we=k(d))==null?void 0:we.finishedSpeechUsedSeconds)==null?void 0:xe.value)||0,"finished-speech-finished-at":((de=(Ie=k(d))==null?void 0:Ie.finishedSpeechFinishedAt)==null?void 0:de.value)||null,"session-interactions":(($e=(Le=k(u))==null?void 0:Le.sessionInteractions)==null?void 0:$e.value)||[],onToggleRegistration:(Ze=k(t))==null?void 0:Ze.toggleRegistration},null,8,["title","expedient-label","is-registered","is-present","started","finalized","finalized-at","registration-order","registered-at","selected-agenda-id","can-send","loading-data","loading-action","current-speech","remaining-time","finished-speech","finished-speech-total-minutes","finished-speech-used-minutes","finished-speech-used-seconds","finished-speech-finished-at","session-interactions","onToggleRegistration"])):(m(),P("div",xn," As falas n\xE3o est\xE3o habilitadas para o pequeno expediente. "))])])])}}};var $n=Pe(qn,[["__scopeId","data-v-42c13971"]]);const An={class:"expedient-tab"},In={class:"overview-card modern-card"},kn={class:"card-content"},Vn={class:"summary-title"},Rn={__name:"LargeExpedientTab",props:{sessionId:{type:Number,default:null},sessionData:{type:Object,default:null}},setup(e){const i=e,s=he("sessionSettings"),n=he("quorum"),t=he("largeExpedient"),d=he("largeSpeech"),u=he("sessionInteractions"),r=he("sessionAgenda"),v=c(()=>{var A;return i.sessionId||((A=r==null?void 0:r.selectedAgendaId)==null?void 0:A.value)||null});return(A,z)=>{var q,_,g,l,o,y,L,E,S,V,h,p,R,f,w,M,B,F,I,J,te,oe,U,se,X,ve,ge,fe,ne,ee,x,le,b,C,H,ae,W,be,we,xe,Ie,de,Le;return m(),P("div",An,[a("div",In,[a("div",kn,[a("div",Vn,[$(j,{name:"assignment_turned_in",size:"20px",class:"tw-mr-2"}),pe(" "+T(((_=(q=k(s))==null?void 0:q.largeExpedientName)==null?void 0:_.value)||"Grande Expediente"),1)]),$($t,{title:((l=(g=k(s))==null?void 0:g.largeExpedientName)==null?void 0:l.value)||"Grande Expediente","expedient-label":(((y=(o=k(s))==null?void 0:o.largeExpedientName)==null?void 0:y.value)||"Grande Expediente").toLowerCase(),icon:"assignment_turned_in","header-class":"bg-orange","header-color":"orange","button-color":"orange","button-icon":"assignment_turned_in","is-registered":((E=(L=k(t))==null?void 0:L.isRegistered)==null?void 0:E.value)||!1,"is-present":((V=(S=k(n))==null?void 0:S.isPresent)==null?void 0:V.value)||!1,started:((p=(h=k(t))==null?void 0:h.started)==null?void 0:p.value)||!1,finalized:((f=(R=k(t))==null?void 0:R.finalized)==null?void 0:f.value)||!1,"finalized-at":((M=(w=k(t))==null?void 0:w.finalizedAt)==null?void 0:M.value)||null,"registration-order":((F=(B=k(t))==null?void 0:B.registrationOrder)==null?void 0:F.value)||null,"registered-at":((J=(I=k(t))==null?void 0:I.registeredAt)==null?void 0:J.value)||null,"selected-agenda-id":v.value,"can-send":((oe=(te=k(t))==null?void 0:te.canSend)==null?void 0:oe.value)||!1,"loading-data":((se=(U=k(t))==null?void 0:U.loadingData)==null?void 0:se.value)||!1,"loading-action":((ve=(X=k(t))==null?void 0:X.loadingAction)==null?void 0:ve.value)||!1,"current-speech":((fe=(ge=k(d))==null?void 0:ge.currentSpeech)==null?void 0:fe.value)||null,"remaining-time":((ee=(ne=k(d))==null?void 0:ne.remainingTime)==null?void 0:ee.value)||null,"finished-speech":((le=(x=k(d))==null?void 0:x.finishedSpeech)==null?void 0:le.value)||null,"finished-speech-total-minutes":((C=(b=k(d))==null?void 0:b.finishedSpeechTotalMinutes)==null?void 0:C.value)||0,"finished-speech-used-minutes":((ae=(H=k(d))==null?void 0:H.finishedSpeechUsedMinutes)==null?void 0:ae.value)||0,"finished-speech-used-seconds":((be=(W=k(d))==null?void 0:W.finishedSpeechUsedSeconds)==null?void 0:be.value)||0,"finished-speech-finished-at":((xe=(we=k(d))==null?void 0:we.finishedSpeechFinishedAt)==null?void 0:xe.value)||null,"session-interactions":((de=(Ie=k(u))==null?void 0:Ie.sessionInteractions)==null?void 0:de.value)||[],onToggleRegistration:(Le=k(t))==null?void 0:Le.toggleRegistration},null,8,["title","expedient-label","is-registered","is-present","started","finalized","finalized-at","registration-order","registered-at","selected-agenda-id","can-send","loading-data","loading-action","current-speech","remaining-time","finished-speech","finished-speech-total-minutes","finished-speech-used-minutes","finished-speech-used-seconds","finished-speech-finished-at","session-interactions","onToggleRegistration"])])])])}}};var zn=Pe(Rn,[["__scopeId","data-v-d0cf9872"]]);const Tn={class:"expedient-tab"},Cn={class:"overview-card modern-card"},Pn={class:"card-content"},Ln={class:"summary-title"},En={__name:"MiscellaneousSubjectsTab",props:{sessionId:{type:Number,default:null},sessionData:{type:Object,default:null}},setup(e){const i=e,s=he("sessionSettings"),n=he("quorum"),t=he("miscellaneousSubject"),d=he("miscellaneousSubjectSpeech"),u=he("sessionInteractions"),r=he("sessionAgenda"),v=c(()=>{var A;return i.sessionId||((A=r==null?void 0:r.selectedAgendaId)==null?void 0:A.value)||null});return(A,z)=>{var q,_,g,l,o,y,L,E,S,V,h,p,R,f,w,M,B,F,I,J,te,oe,U,se,X,ve,ge,fe,ne,ee,x,le,b,C,H,ae,W,be,we,xe,Ie,de,Le;return m(),P("div",Tn,[a("div",Cn,[a("div",Pn,[a("div",Ln,[$(j,{name:"topic",size:"20px",class:"tw-mr-2"}),pe(" "+T(((_=(q=k(s))==null?void 0:q.miscellaneousSubjectsName)==null?void 0:_.value)||"Assuntos Diversos"),1)]),$($t,{title:((l=(g=k(s))==null?void 0:g.miscellaneousSubjectsName)==null?void 0:l.value)||"Assuntos Diversos","expedient-label":(((y=(o=k(s))==null?void 0:o.miscellaneousSubjectsName)==null?void 0:y.value)||"Assuntos Diversos").toLowerCase(),icon:"topic","header-class":"bg-teal","header-color":"teal","button-color":"teal","button-icon":"topic","is-registered":((E=(L=k(t))==null?void 0:L.isRegistered)==null?void 0:E.value)||!1,"is-present":((V=(S=k(n))==null?void 0:S.isPresent)==null?void 0:V.value)||!1,started:((p=(h=k(t))==null?void 0:h.started)==null?void 0:p.value)||!1,finalized:((f=(R=k(t))==null?void 0:R.finalized)==null?void 0:f.value)||!1,"finalized-at":((M=(w=k(t))==null?void 0:w.finalizedAt)==null?void 0:M.value)||null,"registration-order":((F=(B=k(t))==null?void 0:B.registrationOrder)==null?void 0:F.value)||null,"registered-at":((J=(I=k(t))==null?void 0:I.registeredAt)==null?void 0:J.value)||null,"selected-agenda-id":v.value,"can-send":((oe=(te=k(t))==null?void 0:te.canSend)==null?void 0:oe.value)||!1,"loading-data":((se=(U=k(t))==null?void 0:U.loadingData)==null?void 0:se.value)||!1,"loading-action":((ve=(X=k(t))==null?void 0:X.loadingAction)==null?void 0:ve.value)||!1,"current-speech":((fe=(ge=k(d))==null?void 0:ge.currentSpeech)==null?void 0:fe.value)||null,"remaining-time":((ee=(ne=k(d))==null?void 0:ne.remainingTime)==null?void 0:ee.value)||null,"finished-speech":((le=(x=k(d))==null?void 0:x.finishedSpeech)==null?void 0:le.value)||null,"finished-speech-total-minutes":((C=(b=k(d))==null?void 0:b.finishedSpeechTotalMinutes)==null?void 0:C.value)||0,"finished-speech-used-minutes":((ae=(H=k(d))==null?void 0:H.finishedSpeechUsedMinutes)==null?void 0:ae.value)||0,"finished-speech-used-seconds":((be=(W=k(d))==null?void 0:W.finishedSpeechUsedSeconds)==null?void 0:be.value)||0,"finished-speech-finished-at":((xe=(we=k(d))==null?void 0:we.finishedSpeechFinishedAt)==null?void 0:xe.value)||null,"session-interactions":((de=(Ie=k(u))==null?void 0:Ie.sessionInteractions)==null?void 0:de.value)||[],onToggleRegistration:(Le=k(t))==null?void 0:Le.toggleRegistration},null,8,["title","expedient-label","is-registered","is-present","started","finalized","finalized-at","registration-order","registered-at","selected-agenda-id","can-send","loading-data","loading-action","current-speech","remaining-time","finished-speech","finished-speech-total-minutes","finished-speech-used-minutes","finished-speech-used-seconds","finished-speech-finished-at","session-interactions","onToggleRegistration"])])])])}}};var Mn=Pe(En,[["__scopeId","data-v-1f49aca2"]]);const Fn={class:"voting-tab"},Dn={class:"overview-card modern-card"},jn={class:"card-content"},Nn={class:"summary-title"},On={key:0,class:"section-container"},Bn={class:"section-title"},Un={class:"propositions-list"},Qn={class:"proposition-header"},Jn={class:"proposition-badges"},Hn={class:"proposition-number"},Wn={class:"proposition-title"},Gn={key:0,class:"proposition-species"},Kn={key:1,class:"section-container"},Yn={class:"section-title"},Xn={class:"propositions-list"},Zn={class:"voting-results"},ei={class:"results-grid"},ti={class:"result-item result-favor"},ai={class:"result-content"},si={class:"result-value"},ni={class:"result-item result-against"},ii={class:"result-content"},oi={class:"result-value"},li={class:"result-item result-abstain"},ri={class:"result-content"},ui={class:"result-value"},di={class:"result-item result-total"},ci={class:"result-content"},vi={class:"result-value"},gi={key:0,class:"members-section"},fi={class:"members-grid"},mi={class:"member-card-content"},hi=["src","alt"],pi={key:1},bi={class:"member-info"},wi={class:"member-name"},Si={key:0,class:"member-party"},yi={key:1,class:"secret-voting-message"},_i={class:"secret-message-count"},xi={key:2,class:"no-votes-message"},qi={key:2,class:"empty-voting-state"},$i={__name:"VotingTab",props:{sessionId:{type:Number,default:null},sessionData:{type:Object,default:null}},setup(e){const i=e,s=he("voting",null);ut(()=>{s!=null&&s.loadVotingStatus&&s.loadVotingStatus()}),me(()=>i.sessionId,l=>{l&&(s==null?void 0:s.loadVotingStatus)&&s.loadVotingStatus()},{immediate:!0});const n=c(()=>{var l,o;return(o=(l=s==null?void 0:s.activeVoting)==null?void 0:l.value)!=null&&o.readings?s.activeVoting.value.readings.filter(y=>y.type==="voting"||y.type==="secret_voting"):[]}),t=c(()=>{var l;return(l=s==null?void 0:s.finishedReadings)!=null&&l.value?s.finishedReadings.value.filter(o=>o.type==="voting"||o.type==="secret_voting"):[]});function d(l){if(!l.proposition)return"Proposi\xE7\xE3o sem dados";const o=l.proposition.number,y=l.proposition.year,L=l.proposition.description||l.proposition.title||"";return`${o}/${y}${L?" - "+L:""}`}function u(l){var E;if(l.type==="secret_voting")return`Vota\xE7\xE3o Secreta - ${((E=l.votes)==null?void 0:E.length)||0} voto(s)`;if(!l.votes||l.votes.length===0)return"Nenhum voto registrado";const o=r(l.votes,"favor"),y=r(l.votes,"against"),L=r(l.votes,"abstain");return`${o} a favor, ${y} contra, ${L} absten\xE7\xF5es`}function r(l,o){return!l||!Array.isArray(l)?0:l.filter(y=>y.vote===o).length}function v(l){switch(l){case"favor":return"thumb_up";case"against":return"thumb_down";case"abstain":return"remove_circle";default:return"help"}}function A(l){switch(l){case"favor":return"green";case"against":return"red";case"abstain":return"orange";default:return"grey"}}function z(l){switch(l){case"favor":return"tw-bg-green-50 tw-border-green-200";case"against":return"tw-bg-red-50 tw-border-red-200";case"abstain":return"tw-bg-orange-50 tw-border-orange-200";default:return""}}function q(l){if(!l)return"";const o=l.split(" ");return o.length>=2?(o[0][0]+o[o.length-1][0]).toUpperCase():l.substring(0,2).toUpperCase()}function _(l){if(!l)return null;if(l.startsWith("http://")||l.startsWith("https://"))return l;const o={}.VITE_API_BASE_URL||"http://127.0.0.1:8000";return l.startsWith("/")?`${o}${l}`:`${o}/${l}`}function g(l){return!l||l.type==="secret_voting"||!l.votes||!Array.isArray(l.votes)?!1:l.votes.length>0}return(l,o)=>(m(),P("div",Fn,[a("div",Dn,[a("div",jn,[a("div",Nn,[$(j,{name:"how_to_vote",size:"20px",class:"tw-mr-2"}),o[0]||(o[0]=pe(" Vota\xE7\xF5es ",-1))]),n.value.length>0?(m(),P("div",On,[a("div",Bn,[$(j,{name:"schedule",size:"20px",class:"section-icon",color:"primary"}),o[1]||(o[1]=a("span",{class:"section-title-text"},"Vota\xE7\xF5es em Andamento",-1))]),a("div",Un,[(m(!0),P(ke,null,Ce(n.value,y=>(m(),K(Oe,{key:y.id,flat:"",bordered:"",class:"proposition-card mobile-card"},{default:D(()=>[$(Ee,{class:"proposition-card-section"},{default:D(()=>{var L,E,S,V,h;return[a("div",Qn,[a("div",Jn,[$(Qt,{color:y.type==="secret_voting"?"blue":"primary",label:y.type==="secret_voting"?"Secreta":"Vota\xE7\xE3o",class:"type-badge"},null,8,["color","label"]),a("span",Hn,T((L=y.proposition)==null?void 0:L.number)+"/"+T((E=y.proposition)==null?void 0:E.year),1)])]),a("div",Wn,T(((S=y.proposition)==null?void 0:S.description)||((V=y.proposition)==null?void 0:V.title)||"Sem descri\xE7\xE3o"),1),(h=y.proposition)!=null&&h.species?(m(),P("div",Gn,T(y.proposition.species.name),1)):O("",!0)]}),_:2},1024)]),_:2},1024))),128))])])):O("",!0),t.value.length>0?(m(),P("div",Kn,[a("div",Yn,[$(j,{name:"check_circle",size:"20px",class:"section-icon",color:"positive"}),o[2]||(o[2]=a("span",{class:"section-title-text"},"Vota\xE7\xF5es Finalizadas",-1))]),a("div",Xn,[(m(!0),P(ke,null,Ce(t.value,y=>(m(),K(Jt,{key:y.id,"header-class":"proposition-expansion-header mobile-expansion-header","expand-icon-class":"expansion-icon",class:"proposition-expansion mobile-expansion"},{header:D(()=>[$(Ge,{avatar:"",class:"expansion-avatar"},{default:D(()=>[$(j,{name:y.type==="secret_voting"?"lock":"how_to_vote",color:y.type==="secret_voting"?"blue":"primary",size:"22px"},null,8,["name","color"])]),_:2},1024),$(Ge,{class:"expansion-content"},{default:D(()=>[$(Xe,{class:"expansion-title"},{default:D(()=>[pe(T(d(y)),1)]),_:2},1024),$(Xe,{caption:"",class:"expansion-caption"},{default:D(()=>[pe(T(u(y)),1)]),_:2},1024)]),_:2},1024)]),default:D(()=>[$(Oe,{flat:"",class:"expansion-content-card"},{default:D(()=>[$(Ee,{class:"expansion-card-section"},{default:D(()=>{var L,E;return[a("div",Zn,[o[7]||(o[7]=a("div",{class:"results-title"}," Resultado da Vota\xE7\xE3o ",-1)),a("div",ei,[a("div",ti,[$(j,{name:"thumb_up",color:"green",size:"18px"}),a("div",ai,[a("span",si,T(r(y.votes,"favor")),1),o[3]||(o[3]=a("span",{class:"result-label"},"A Favor",-1))])]),a("div",ni,[$(j,{name:"thumb_down",color:"red",size:"18px"}),a("div",ii,[a("span",oi,T(r(y.votes,"against")),1),o[4]||(o[4]=a("span",{class:"result-label"},"Contra",-1))])]),a("div",li,[$(j,{name:"remove_circle",color:"orange",size:"18px"}),a("div",ri,[a("span",ui,T(r(y.votes,"abstain")),1),o[5]||(o[5]=a("span",{class:"result-label"},"Absten\xE7\xF5es",-1))])]),a("div",di,[$(j,{name:"people",color:"grey",size:"18px"}),a("div",ci,[a("span",vi,T(((L=y.votes)==null?void 0:L.length)||0),1),o[6]||(o[6]=a("span",{class:"result-label"},"Total",-1))])])])]),y.type!=="secret_voting"&&g(y)?(m(),P("div",gi,[o[8]||(o[8]=a("div",{class:"members-title"}," Votos dos Vereadores ",-1)),a("div",fi,[(m(!0),P(ke,null,Ce(y.votes,S=>(m(),K(Oe,{key:S.id||`vote-${S.proponent_id}-${S.vote}`,flat:"",bordered:"",class:Q(["member-vote-card","mobile-member-card",z(S.vote)])},{default:D(()=>[$(Ee,{class:"member-card-section"},{default:D(()=>[a("div",mi,[$(_t,{size:"28px",color:"primary","text-color":"white",class:"member-avatar"},{default:D(()=>[S.proponent_photo?(m(),P("img",{key:0,src:_(S.proponent_photo),alt:S.proponent_name},null,8,hi)):(m(),P("span",pi,T(q(S.proponent_name)),1))]),_:2},1024),a("div",bi,[a("div",wi,T(S.proponent_name),1),S.proponent_party?(m(),P("div",Si,T(S.proponent_party.abbreviation||S.proponent_party.name),1)):O("",!0)]),$(j,{name:v(S.vote),color:A(S.vote),size:"18px",class:"member-vote-icon"},null,8,["name","color"])])]),_:2},1024)]),_:2},1032,["class"]))),128))])])):y.type==="secret_voting"?(m(),P("div",yi,[$(j,{name:"lock",size:"28px",color:"blue"}),o[9]||(o[9]=a("div",{class:"secret-message-text"}," Vota\xE7\xE3o secreta - Os votos n\xE3o s\xE3o exibidos publicamente ",-1)),a("div",_i," Total de votos: "+T(((E=y.votes)==null?void 0:E.length)||0),1)])):y.type!=="secret_voting"?(m(),P("div",xi,[$(j,{name:"info",size:"28px",color:"grey"}),o[10]||(o[10]=a("div",{class:"no-votes-text"}," Nenhum voto registrado ",-1))])):O("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])])):O("",!0),n.value.length===0&&t.value.length===0?(m(),P("div",qi,[$(j,{name:"how_to_vote",size:"64px",color:"grey-5",class:"tw-mb-4"}),o[11]||(o[11]=a("div",{class:"empty-title"},"Aguardando Vota\xE7\xF5es",-1)),o[12]||(o[12]=a("div",{class:"empty-subtitle"}," Nenhuma vota\xE7\xE3o est\xE1 em andamento ou foi finalizada ainda. ",-1))])):O("",!0)])])]))}};var Ai=Pe($i,[["__scopeId","data-v-57743baf"]]);let Ii=0;const ki=["click","keydown"],Vi={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ii++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ri(e,i,s,n){const t=he(Nt,Ye);if(t===Ye)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ye;const{proxy:d}=He(),u=Y(null),r=Y(null),v=Y(null),A=c(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),z=c(()=>t.currentModel.value===e.name),q=c(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(z.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),_=c(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),g=c(()=>e.disable===!0||t.hasFocus.value===!0||z.value===!1&&t.hasActiveTab.value===!0?-1:e.tabindex||0);function l(S,V){var h;if(V!==!0&&(S==null?void 0:S.qAvoidFocus)!==!0&&((h=u.value)==null||h.focus()),e.disable===!0){(n==null?void 0:n.hasRouterLink.value)===!0&&it(S);return}if(n===void 0){t.updateModel({name:e.name}),s("click",S);return}if(n.hasRouterLink.value===!0){const p=(R={})=>{let f;const w=R.to===void 0||ma(R.to,e.to)===!0?t.avoidRouteWatcher=Ft():null;return n.navigateToRouterLink(S,{...R,returnRouterError:!0}).catch(M=>{f=M}).then(M=>{var B;if(w===t.avoidRouteWatcher&&(t.avoidRouteWatcher=!1,f===void 0&&(M===void 0||((B=M.message)==null?void 0:B.startsWith("Avoided redundant navigation"))===!0)&&t.updateModel({name:e.name})),R.returnRouterError===!0)return f!==void 0?Promise.reject(f):M})};s("click",S,p),S.defaultPrevented!==!0&&p();return}s("click",S)}function o(S){ga(S,[13,32])?l(S,!0):fa(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&t.onKbdNavigate(S.keyCode,d.$el)===!0&&it(S),s("keydown",S)}function y(){const S=t.tabProps.value.narrowIndicator,V=[],h=G("div",{ref:v,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&V.push(G(j,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&V.push(G("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&V.push(e.alertIcon!==void 0?G(j,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):G("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),S===!0&&V.push(h);const p=[G("div",{class:"q-focus-helper",tabindex:-1,ref:u}),G("div",{class:_.value},tt(i.default,V))];return S===!1&&p.push(h),p}const L={name:c(()=>e.name),rootRef:r,tabIndicatorRef:v,routeData:n};at(()=>{t.unregisterTab(L)}),ut(()=>{t.registerTab(L)});function E(S,V){const h={ref:r,class:q.value,tabindex:g.value,role:"tab","aria-selected":z.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:l,onKeydown:o,...V};return Ne(G(S,h,y()),[[zt,A.value]])}return{renderTab:E,$tabs:t}}var zi=De({name:"QTab",props:Vi,emits:ki,setup(e,{slots:i,emit:s}){const{renderTab:n}=Ri(e,i,s);return()=>n("div")}});let Zt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const i=document.createElement("div");Object.assign(i.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(i),e.scrollLeft=-1e3,Zt=e.scrollLeft>=0,e.remove()}function Ti(e,i,s){const n=s===!0?["left","right"]:["top","bottom"];return`absolute-${i===!0?n[0]:n[1]}${e?` text-${e}`:""}`}const Ci=["left","center","right","justify"];var Pi=De({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ci.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:i,emit:s}){const{proxy:n}=He(),{$q:t}=n,{registerTick:d}=gt(),{registerTick:u}=gt(),{registerTick:r}=gt(),{registerTimeout:v,removeTimeout:A}=kt(),{registerTimeout:z,removeTimeout:q}=kt(),_=Y(null),g=Y(null),l=Y(e.modelValue),o=Y(!1),y=Y(!0),L=Y(!1),E=Y(!1),S=[],V=Y(0),h=Y(!1);let p=null,R=null,f;const w=c(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ti(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),M=c(()=>{const N=V.value,Z=l.value;for(let re=0;re<N;re++)if(S[re].name.value===Z)return!0;return!1}),B=c(()=>`q-tabs__content--align-${o.value===!0?"left":E.value===!0?"justify":e.align}`),F=c(()=>`q-tabs row no-wrap items-center q-tabs--${o.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),I=c(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+B.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),J=c(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),te=c(()=>e.vertical!==!0&&t.lang.rtl===!0),oe=c(()=>Zt===!1&&te.value===!0);me(te,fe),me(()=>e.modelValue,N=>{U({name:N,setCurrent:!0,skipEmit:!0})}),me(()=>e.outsideArrows,se);function U({name:N,setCurrent:Z,skipEmit:re}){l.value!==N&&(re!==!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",N),(Z===!0||e["onUpdate:modelValue"]===void 0)&&(ve(l.value,N),l.value=N))}function se(){d(()=>{_.value&&X({width:_.value.offsetWidth,height:_.value.offsetHeight})})}function X(N){if(J.value===void 0||g.value===null)return;const Z=N[J.value.container],re=Math.min(g.value[J.value.scroll],Array.prototype.reduce.call(g.value.children,(_e,ce)=>_e+(ce[J.value.content]||0),0)),ye=Z>0&&re>Z;o.value=ye,ye===!0&&u(fe),E.value=Z<parseInt(e.breakpoint,10)}function ve(N,Z){const re=N!=null&&N!==""?S.find(_e=>_e.name.value===N):null,ye=Z!=null&&Z!==""?S.find(_e=>_e.name.value===Z):null;if(st===!0)st=!1;else if(re&&ye){const _e=re.tabIndicatorRef.value,ce=ye.tabIndicatorRef.value;p!==null&&(clearTimeout(p),p=null),_e.style.transition="none",_e.style.transform="none",ce.style.transition="none",ce.style.transform="none";const ue=_e.getBoundingClientRect(),Ae=ce.getBoundingClientRect();ce.style.transform=e.vertical===!0?`translate3d(0,${ue.top-Ae.top}px,0) scale3d(1,${Ae.height?ue.height/Ae.height:1},1)`:`translate3d(${ue.left-Ae.left}px,0,0) scale3d(${Ae.width?ue.width/Ae.width:1},1,1)`,r(()=>{p=setTimeout(()=>{p=null,ce.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ce.style.transform="none"},70)})}ye&&o.value===!0&&ge(ye.rootRef.value)}function ge(N){const{left:Z,width:re,top:ye,height:_e}=g.value.getBoundingClientRect(),ce=N.getBoundingClientRect();let ue=e.vertical===!0?ce.top-ye:ce.left-Z;if(ue<0){g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ue),fe();return}ue+=e.vertical===!0?ce.height-_e:ce.width-re,ue>0&&(g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ue),fe())}function fe(){const N=g.value;if(N===null)return;const Z=N.getBoundingClientRect(),re=e.vertical===!0?N.scrollTop:Math.abs(N.scrollLeft);te.value===!0?(y.value=Math.ceil(re+Z.width)<N.scrollWidth-1,L.value=re>0):(y.value=re>0,L.value=e.vertical===!0?Math.ceil(re+Z.height)<N.scrollHeight:Math.ceil(re+Z.width)<N.scrollWidth)}function ne(N){R!==null&&clearInterval(R),R=setInterval(()=>{H(N)===!0&&le()},5)}function ee(){ne(oe.value===!0?Number.MAX_SAFE_INTEGER:0)}function x(){ne(oe.value===!0?0:Number.MAX_SAFE_INTEGER)}function le(){R!==null&&(clearInterval(R),R=null)}function b(N,Z){const re=Array.prototype.filter.call(g.value.children,Ae=>Ae===Z||Ae.matches&&Ae.matches(".q-tab.q-focusable")===!0),ye=re.length;if(ye===0)return;if(N===36)return ge(re[0]),re[0].focus(),!0;if(N===35)return ge(re[ye-1]),re[ye-1].focus(),!0;const _e=N===(e.vertical===!0?38:37),ce=N===(e.vertical===!0?40:39),ue=_e===!0?-1:ce===!0?1:void 0;if(ue!==void 0){const Ae=te.value===!0?-1:1,je=re.indexOf(Z)+ue*Ae;return je>=0&&je<ye&&(ge(re[je]),re[je].focus({preventScroll:!0})),!0}}const C=c(()=>oe.value===!0?{get:N=>Math.abs(N.scrollLeft),set:(N,Z)=>{N.scrollLeft=-Z}}:e.vertical===!0?{get:N=>N.scrollTop,set:(N,Z)=>{N.scrollTop=Z}}:{get:N=>N.scrollLeft,set:(N,Z)=>{N.scrollLeft=Z}});function H(N){const Z=g.value,{get:re,set:ye}=C.value;let _e=!1,ce=re(Z);const ue=N<ce?-1:1;return ce+=ue*5,ce<0?(_e=!0,ce=0):(ue===-1&&ce<=N||ue===1&&ce>=N)&&(_e=!0,ce=N),ye(Z,ce),fe(),_e}function ae(N,Z){for(const re in N)if(N[re]!==Z[re])return!1;return!0}function W(){let N=null,Z={matchedLen:0,queryDiff:9999,hrefLen:0};const re=S.filter(ue=>{var Ae;return((Ae=ue.routeData)==null?void 0:Ae.hasRouterLink.value)===!0}),{hash:ye,query:_e}=n.$route,ce=Object.keys(_e).length;for(const ue of re){const Ae=ue.routeData.exact.value===!0;if(ue.routeData[Ae===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:je,query:ct,matched:aa,href:sa}=ue.routeData.resolvedLink.value,vt=Object.keys(ct).length;if(Ae===!0){if(je!==ye||vt!==ce||ae(_e,ct)===!1)continue;N=ue.name.value;break}if(je!==""&&je!==ye||vt!==0&&ae(ct,_e)===!1)continue;const Be={matchedLen:aa.length,queryDiff:ce-vt,hrefLen:sa.length-je.length};if(Be.matchedLen>Z.matchedLen){N=ue.name.value,Z=Be;continue}else if(Be.matchedLen!==Z.matchedLen)continue;if(Be.queryDiff<Z.queryDiff)N=ue.name.value,Z=Be;else if(Be.queryDiff!==Z.queryDiff)continue;Be.hrefLen>Z.hrefLen&&(N=ue.name.value,Z=Be)}if(N===null&&S.some(ue=>ue.routeData===void 0&&ue.name.value===l.value)===!0){st=!1;return}U({name:N,setCurrent:!0})}function be(N){if(A(),h.value!==!0&&_.value!==null&&N.target&&typeof N.target.closest=="function"){const Z=N.target.closest(".q-tab");Z&&_.value.contains(Z)===!0&&(h.value=!0,o.value===!0&&ge(Z))}}function we(){v(()=>{h.value=!1},30)}function xe(){$e.avoidRouteWatcher===!1?z(W):q()}function Ie(){if(f===void 0){const N=me(()=>n.$route.fullPath,xe);f=()=>{N(),f=void 0}}}function de(N){S.push(N),V.value++,se(),N.routeData===void 0||n.$route===void 0?z(()=>{if(o.value===!0){const Z=l.value,re=Z!=null&&Z!==""?S.find(ye=>ye.name.value===Z):null;re&&ge(re.rootRef.value)}}):(Ie(),N.routeData.hasRouterLink.value===!0&&xe())}function Le(N){S.splice(S.indexOf(N),1),V.value--,se(),f!==void 0&&N.routeData!==void 0&&(S.every(Z=>Z.routeData===void 0)===!0&&f(),xe())}const $e={currentModel:l,tabProps:w,hasFocus:h,hasActiveTab:M,registerTab:de,unregisterTab:Le,verifyRouteModel:xe,updateModel:U,onKbdNavigate:b,avoidRouteWatcher:!1};Te(Nt,$e);function Ze(){p!==null&&clearTimeout(p),le(),f==null||f()}let At,st;return at(Ze),ha(()=>{At=f!==void 0,Ze()}),pa(()=>{At===!0&&(Ie(),st=!0,xe()),se()}),()=>G("div",{ref:_,class:F.value,role:"tablist",onFocusin:be,onFocusout:we},[G(Ut,{onResize:X}),G("div",{ref:g,class:I.value,onScroll:fe},yt(i.default)),G(j,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(y.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ee,onTouchstartPassive:ee,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le}),G(j,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:x,onTouchstartPassive:x,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le})])}}),Li=De({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:s}){const{proxy:{$q:n}}=He(),t=he(wa,Ye);if(t===Ye)return console.error("QFooter needs to be child of QLayout"),Ye;const d=Y(parseInt(e.heightHint,10)),u=Y(!0),r=Y(ba.value===!0||t.isContainer.value===!0?0:window.innerHeight),v=c(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),A=c(()=>t.isContainer.value===!0?t.containerHeight.value:r.value),z=c(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return u.value===!0?d.value:0;const h=t.scroll.value.position+A.value+d.value-t.height.value;return h>0?h:0}),q=c(()=>e.modelValue!==!0||v.value===!0&&u.value!==!0),_=c(()=>e.modelValue===!0&&q.value===!0&&e.reveal===!0),g=c(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(q.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),l=c(()=>{const h=t.rows.value.bottom,p={};return h[0]==="l"&&t.left.space===!0&&(p[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),h[2]==="r"&&t.right.space===!0&&(p[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),p});function o(h,p){t.update("footer",h,p)}function y(h,p){h.value!==p&&(h.value=p)}function L({height:h}){y(d,h),o("size",h)}function E(){if(e.reveal!==!0)return;const{direction:h,position:p,inflectionPoint:R}=t.scroll.value;y(u,h==="up"||p-R<100||t.height.value-A.value-p-d.value<300)}function S(h){_.value===!0&&y(u,!0),s("focusin",h)}me(()=>e.modelValue,h=>{o("space",h),y(u,!0),t.animate()}),me(z,h=>{o("offset",h)}),me(()=>e.reveal,h=>{h===!1&&y(u,e.modelValue)}),me(u,h=>{t.animate(),s("reveal",h)}),me([d,t.scroll,t.height],E),me(()=>n.screen.height,h=>{t.isContainer.value!==!0&&y(r,h)});const V={};return t.instances.footer=V,e.modelValue===!0&&o("size",d.value),o("space",e.modelValue),o("offset",z.value),at(()=>{t.instances.footer===V&&(t.instances.footer=void 0,o("size",0),o("offset",0),o("space",!1))}),()=>{const h=tt(i.default,[G(Ut,{debounce:0,onResize:L})]);return e.elevated===!0&&h.push(G("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),G("footer",{class:g.value,style:l.value,onFocusin:S},h)}}});const Ei={__name:"MobileBottomNavigation",props:{modelValue:{type:String,default:"home"},tabs:{type:Array,required:!0}},emits:["update:model-value","tab-change"],setup(e,{emit:i}){const s=e,n=i,t=c({get:()=>s.modelValue,set:u=>n("update:model-value",u)});function d(u){t.value=u,n("tab-change",u)}return(u,r)=>(m(),K(Li,{class:"mobile-bottom-nav",elevated:""},{default:D(()=>[$(Pi,{modelValue:t.value,"onUpdate:modelValue":[r[0]||(r[0]=v=>t.value=v),d],class:"bottom-nav-tabs","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:D(()=>[(m(!0),P(ke,null,Ce(e.tabs,v=>(m(),K(zi,{key:v.name,name:v.name,icon:v.icon,label:v.label,class:Q(["bottom-nav-tab",{"tab-active":t.value===v.name}])},null,8,["name","icon","label","class"]))),128))]),_:1},8,["modelValue"])]),_:1}))}};var Mi=Pe(Ei,[["__scopeId","data-v-a84bfa88"]]);const Fi={class:"tw-text-center tw-px-4 md:tw-px-6 tw-w-full tw-max-w-4xl tw-py-4",style:{"max-height":"100vh","overflow-y":"auto"}},Di={class:"tw-mb-3 md:tw-mb-8"},ji={class:"tw-mb-2 md:tw-mb-4"},Ni={class:"tw-mb-3 md:tw-mb-6"},Oi={key:0,class:"tw-mb-4 md:tw-mb-8"},Bi={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-3 tw-gap-3 md:tw-gap-4 tw-mb-4 md:tw-mb-8"},Ui={class:"tw-mb-4 md:tw-mb-8"},Qi={class:"tw-bg-white tw-bg-opacity-20 tw-rounded-full tw-h-3 md:tw-h-4 tw-overflow-hidden"},Ji={key:0},Hi={key:1},Wi={key:2},Gi={key:1,class:"tw-mt-3 md:tw-mt-6"},Ki={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3 md:tw-gap-4"},Yi={__name:"SpeechFullscreenModal",props:{modelValue:{type:Boolean,default:!1},speech:{type:Object,default:null},remainingTime:{type:Number,default:0},usedSeconds:{type:Number,default:null},expedientType:{type:String,default:"Expediente"}},emits:["update:modelValue"],setup(e,{emit:i}){const s=e,n=i,t=c({get:()=>s.modelValue,set:I=>n("update:modelValue",I)}),d=c(()=>{var I;return((I=s.speech)==null?void 0:I.status)==="speaking"}),u=c(()=>{var I;return((I=s.speech)==null?void 0:I.status)==="paused"}),r=c(()=>{var I;return((I=s.speech)==null?void 0:I.status)==="finished"}),v=c(()=>d.value?"mic":u.value?"pause_circle":r.value?"check_circle":"mic_off"),A=c(()=>(d.value||u.value,"white")),z=c(()=>d.value?"Voc\xEA est\xE1 falando":u.value?"Fala pausada":"Fala finalizada"),q=c(()=>d.value?"Sua fala est\xE1 em andamento":u.value?"Aguarde a retomada pelo controle":"Sua fala foi finalizada"),_=c(()=>d.value?"tw-bg-gradient-to-br tw-from-green-600 tw-to-green-800":u.value?"tw-bg-gradient-to-br tw-from-yellow-600 tw-to-orange-600":r.value?"tw-bg-gradient-to-br tw-from-blue-600 tw-to-blue-800":"tw-bg-gradient-to-br tw-from-gray-600 tw-to-gray-800"),g=c(()=>d.value?"tw-bg-green-300":u.value?"tw-bg-yellow-300":"tw-bg-gray-300"),l=c(()=>{var I,J;return s.speech?((I=s.speech.allocated_minutes)!=null?I:0)+((J=s.speech.additional_minutes)!=null?J:0):0}),o=c(()=>{var U;if(!s.speech)return 0;const I=l.value*60;if(I<=0)return 0;if(r.value){const se=(U=s.speech.used_seconds)!=null?U:0;return Math.max(0,Math.min(I,Math.floor(Number(se))))}const J=s.usedSeconds!=null?Number(s.usedSeconds):NaN;if(!Number.isNaN(J)&&J>=0)return Math.max(0,Math.min(I,Math.floor(J)));const te=Number(s.remainingTime);if(Number.isNaN(te)||te<0)return 0;const oe=I-te;return Math.max(0,Math.min(I,Math.floor(oe)))}),y=c(()=>Math.floor(o.value/60)),L=c(()=>{var I,J;return(J=(I=s.speech)==null?void 0:I.additional_minutes)!=null?J:0}),E=c(()=>{if(!s.speech||l.value===0)return 0;const I=l.value*60,J=o.value,te=I>0?J/I*100:0;return Math.max(0,Math.min(100,Math.round(te*10)/10))}),S=c(()=>{if(!s.speech)return 0;const I=s.speech.used_seconds||0;return Math.floor(I/60)}),V=c(()=>s.speech?(s.speech.used_seconds||0)%60:0),h=c(()=>s.remainingTime>0&&s.remainingTime<=15),p=c(()=>s.remainingTime<=0),R=c(()=>p.value?"tw-bg-red-600 tw-bg-opacity-90":h.value?"tw-bg-orange-600 tw-bg-opacity-80":"tw-bg-white tw-bg-opacity-20"),f=c(()=>(p.value||h.value,"tw-text-white")),w=c(()=>p.value||h.value?"tw-text-white tw-font-bold":"tw-text-white tw-opacity-80"),M=c(()=>p.value?"\u26A0\uFE0F TEMPO ESGOTADO \u26A0\uFE0F":h.value?"\u23F0 Tempo Restante (\xDAltimos 15 segundos)":"Tempo Restante");function B(I){if(I==null||I<=0)return"0:00";const J=Math.floor(Number(I)),te=Math.floor(J/60),oe=J%60;return`${te}:${oe.toString().padStart(2,"0")}`}let F=null;return me(()=>[r.value,t.value],([I,J])=>{F&&(clearTimeout(F),F=null),I&&J&&(F=setTimeout(()=>{t.value&&r.value&&(t.value=!1),F=null},3e3))},{immediate:!0}),me(()=>t.value,I=>{!I&&F&&(clearTimeout(F),F=null)}),Ot(()=>{F&&clearTimeout(F)}),(I,J)=>(m(),K(dt,{modelValue:t.value,"onUpdate:modelValue":J[0]||(J[0]=te=>t.value=te),maximized:"","transition-show":"fade","transition-hide":"fade","no-esc-dismiss":!0,"no-backdrop-dismiss":!0},{default:D(()=>[a("div",{class:Q(["fullscreen tw-flex tw-items-center tw-justify-center",_.value]),style:{"overflow-y":"auto","max-height":"100vh"}},[a("div",Fi,[a("div",Di,[$(j,{name:v.value,color:A.value,size:I.$q.screen.lt.md?"64px":"120px",class:"tw-animate-pulse"},null,8,["name","color","size"])]),a("div",ji,[$(xt,{label:s.expedientType,color:"white","text-color":"primary",size:I.$q.screen.lt.md?"sm":"md",class:"tw-font-semibold"},null,8,["label","size"])]),a("div",Ni,[a("h1",{class:Q([I.$q.screen.lt.md?"text-h5":"text-h3","tw-font-bold","tw-text-white","tw-mb-1","md:tw-mb-2"])},T(z.value),3),a("p",{class:Q([I.$q.screen.lt.md?"text-body2":"text-h6","tw-text-white","tw-opacity-90"])},T(q.value),3)]),r.value?O("",!0):(m(),P("div",Oi,[a("div",{class:Q([I.$q.screen.lt.md?"tw-p-4":"tw-p-8","tw-rounded-2xl","tw-backdrop-blur-sm",R.value])},[a("div",{class:Q([I.$q.screen.lt.md?"text-body2":"text-h5",w.value,"tw-mb-2"])},T(M.value),3),a("div",{class:Q([I.$q.screen.lt.md?"text-h3":"text-h1","tw-font-bold","tw-tracking-wider",f.value,p.value?"tw-animate-pulse":""])},T(B(s.remainingTime)),3)],2)])),a("div",Bi,[a("div",{class:Q([I.$q.screen.lt.md?"tw-p-3":"tw-p-4","tw-bg-white","tw-bg-opacity-10","tw-rounded-xl","tw-backdrop-blur-sm"])},[a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mb-1"])}," Tempo Total ",2),a("div",{class:Q([I.$q.screen.lt.md?"text-h6":"text-h5","tw-font-semibold","tw-text-white"])},T(l.value)+" min ",3)],2),a("div",{class:Q([I.$q.screen.lt.md?"tw-p-3":"tw-p-4","tw-bg-white","tw-bg-opacity-10","tw-rounded-xl","tw-backdrop-blur-sm"])},[a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mb-1"])}," Tempo Usado ",2),a("div",{class:Q([I.$q.screen.lt.md?"text-h6":"text-h5","tw-font-semibold","tw-text-white"])},T(y.value)+" min ",3)],2),a("div",{class:Q([I.$q.screen.lt.md?"tw-p-3":"tw-p-4","tw-bg-white","tw-bg-opacity-10","tw-rounded-xl","tw-backdrop-blur-sm"])},[a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mb-1"])}," Tempo Adicional ",2),a("div",{class:Q([I.$q.screen.lt.md?"text-h6":"text-h5","tw-font-semibold","tw-text-white"])}," +"+T(L.value)+" min ",3)],2)]),a("div",Ui,[a("div",Qi,[a("div",{class:Q(["tw-h-full tw-transition-all tw-duration-1000",g.value]),style:jt({width:E.value+"%"})},null,6)]),a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mt-2"])},T(E.value.toFixed(0))+"% do tempo utilizado ",3)]),a("div",{class:Q([I.$q.screen.lt.md?"text-body2":"text-body1","tw-text-white","tw-opacity-80"])},[$(j,{name:"info",size:"20px",class:"tw-mr-2"}),d.value?(m(),P("span",Ji," Continue falando. O tempo ser\xE1 controlado automaticamente. ")):u.value?(m(),P("span",Hi," Sua fala est\xE1 pausada. Aguarde a retomada pelo controle. ")):r.value?(m(),P("span",Wi," Sua fala foi finalizada com sucesso! Esta tela ser\xE1 fechada em breve. ")):O("",!0)],2),r.value?(m(),P("div",Gi,[a("div",{class:Q([I.$q.screen.lt.md?"tw-p-4":"tw-p-6","tw-bg-white","tw-bg-opacity-20","tw-rounded-2xl","tw-backdrop-blur-sm"])},[a("div",{class:Q([I.$q.screen.lt.md?"text-body1":"text-h6","tw-text-white","tw-font-semibold","tw-mb-3","md:tw-mb-4"])}," Resumo da Fala ",2),a("div",Ki,[a("div",null,[a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mb-1"])}," Tempo Total Alocado ",2),a("div",{class:Q([I.$q.screen.lt.md?"text-h6":"text-h5","tw-font-bold","tw-text-white"])},T(l.value)+" min ",3)]),a("div",null,[a("div",{class:Q([I.$q.screen.lt.md?"text-caption":"text-body2","tw-text-white","tw-opacity-70","tw-mb-1"])}," Tempo Utilizado ",2),a("div",{class:Q([I.$q.screen.lt.md?"text-h6":"text-h5","tw-font-bold","tw-text-white"])},T(S.value)+" min "+T(V.value)+" s ",3)])])],2)])):O("",!0)])],2)]),_:1},8,["modelValue"]))}};var mt=Pe(Yi,[["__scopeId","data-v-7fbba8a4"]]);const Xi=["top","right","bottom","left"],bt={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Xi.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ea(e,i){return{formClass:c(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:c(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:c(()=>{if(e.externalLabel===!0){const s=e.hideLabel===null?i.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(s===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const ta={start:"self-end",center:"self-center",end:"self-start"},Zi=Object.keys(ta);var ht=De({name:"QFabAction",props:{...bt,icon:{type:String,default:""},anchor:{type:String,validator:e=>Zi.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:i,emit:s}){const n=he(Bt,()=>({showing:{value:!0},onChildClick:Sa})),{formClass:t,labelProps:d}=ea(e,n.showing),u=c(()=>{const q=ta[e.anchor];return t.value+(q!==void 0?` ${q}`:"")}),r=c(()=>e.disable===!0||n.showing.value!==!0);function v(q){n.onChildClick(q),s("click",q)}function A(){const q=[];return i.icon!==void 0?q.push(i.icon()):e.icon!==""&&q.push(G(j,{name:e.icon})),(e.label!==""||i.label!==void 0)&&q[d.value.action](G("div",d.value.data,i.label!==void 0?i.label():[e.label])),tt(i.default,q)}const z=He();return Object.assign(z.proxy,{click:v}),()=>G(qe,{class:u.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:r.value,onClick:v},A)}});const eo=["up","right","down","left"],to=["left","center","right"];var ao=De({name:"QFab",props:{...bt,...Pt,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...bt.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>eo.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>to.includes(e)}},emits:Lt,setup(e,{slots:i}){const s=Y(null),n=Y(e.modelValue===!0),t=Et(),{proxy:{$q:d}}=He(),{formClass:u,labelProps:r}=ea(e,n),v=c(()=>e.persistent!==!0),{hide:A,toggle:z}=Mt({showing:n,hideOnRouteChange:v}),q=c(()=>({opened:n.value})),_=c(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${u.value}`+(n.value===!0?" q-fab--opened":" q-fab--closed")),g=c(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${n.value===!0?"opened":"closed"}`),l=c(()=>{const E={id:t.value,role:"menu"};return n.value!==!0&&(E["aria-hidden"]="true"),E}),o=c(()=>`q-fab__icon-holder  q-fab__icon-holder--${n.value===!0?"opened":"closed"}`);function y(E,S){const V=i[E],h=`q-fab__${E} absolute-full`;return V===void 0?G(j,{class:h,name:e[S]||d.iconSet.fab[S]}):G("div",{class:h},V(q.value))}function L(){const E=[];return e.hideIcon!==!0&&E.push(G("div",{class:o.value},[y("icon","icon"),y("active-icon","activeIcon")])),(e.label!==""||i.label!==void 0)&&E[r.value.action](G("div",r.value.data,i.label!==void 0?i.label(q.value):[e.label])),tt(i.tooltip,E)}return Te(Bt,{showing:n,onChildClick(E){var S;A(E),(E==null?void 0:E.qAvoidFocus)!==!0&&((S=s.value)==null||S.$el.focus())}}),()=>G("div",{class:_.value},[G(qe,{ref:s,class:u.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":n.value===!0?"true":"false","aria-haspopup":"true","aria-controls":t.value,onClick:z},L),G("div",{class:g.value,...l.value},yt(i.default))])}});const so={class:"tw-flex tw-flex-col tw-h-full tw-bg-gray-100"},no={class:"tw-flex-shrink-0 tw-bg-blue-600 tw-text-white tw-shadow-md tw-p-4 tw-z-10"},io={class:"tw-text-center"},oo={class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-mb-2"},lo={class:"text-h6 tw-font-bold tw-text-white tw-mb-0"},ro={class:"text-body2 tw-text-white tw-mb-0"},uo={class:"tw-flex-1 tw-overflow-y-auto tw-p-4 tw-relative"},co={class:"tw-max-w-4xl tw-mx-auto"},vo={key:0,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},go={class:"tw-text-center"},fo={class:"text-body1 tw-font-bold tw-text-gray-900 tw-mb-1"},mo={class:"text-body2 tw-text-gray-700"},ho={key:1,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},po={class:"text-body2 tw-text-gray-800 tw-leading-relaxed tw-whitespace-pre-wrap tw-text-justify"},bo={key:2,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},wo={class:"tw-flex tw-flex-wrap tw-gap-2"},So={key:3,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},yo={class:"tw-flex tw-flex-wrap tw-gap-2"},_o={key:4,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4"},xo={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 tw-gap-3"},qo={class:"tw-flex tw-items-center tw-gap-3"},$o=["src","alt"],Ao={key:1},Io={class:"tw-flex-1 tw-min-w-0"},ko={class:"text-body2 tw-font-semibold tw-text-gray-900 tw-truncate"},Vo={key:0,class:"text-caption tw-text-gray-600 tw-truncate"},Ro={key:5,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-6 tw-text-center"},zo={__name:"ReadingFullscreenModal",props:{modelValue:{type:Boolean,default:!1},reading:{type:Object,default:null},agendaId:{type:Number,default:null},hasRequest:{type:Boolean,default:!1},currentSpeech:{type:Object,default:null},requestOrder:{type:Number,default:null}},emits:["update:modelValue","request-registered"],setup(e,{emit:i}){const s=e,n=i,t=Ve(),d=Ke(),u=Y(!1),r=Y(!1),v=he("voiceRequest",null),A=c({get:()=>s.modelValue,set:S=>n("update:modelValue",S)}),z=c(()=>s.reading?s.reading.type==="reading"?"menu_book":s.reading.type==="secret_voting"?"lock":"how_to_vote":"menu_book"),q=c(()=>s.reading?s.reading.type==="reading"?"Leitura em Andamento":s.reading.type==="secret_voting"?"Vota\xE7\xE3o Secreta em Andamento":"Vota\xE7\xE3o em Andamento":"Leitura em Andamento"),_=c(()=>s.reading?s.reading.type==="reading"?"A proposi\xE7\xE3o est\xE1 sendo lida":s.reading.type==="secret_voting"?"A vota\xE7\xE3o secreta est\xE1 em andamento":"A vota\xE7\xE3o est\xE1 em andamento":"Aguarde as informa\xE7\xF5es da proposi\xE7\xE3o");function g(S){if(!S)return"";const V=S.split(" ");return V.length>=2?(V[0][0]+V[V.length-1][0]).toUpperCase():S.substring(0,2).toUpperCase()}function l(S){S&&window.open(S,"_blank")}function o(){var V,h;if(!((h=(V=s.reading)==null?void 0:V.proposition)!=null&&h.protocol_document))return null;const S=s.reading.proposition.protocol_document;return S.signed_file_url||S.file_url||null}function y(){var V,h;return(h=(V=s.reading)==null?void 0:V.proposition)!=null&&h.protocol_document?s.reading.proposition.protocol_document.title||"Abrir PDF do Protocolo":"Abrir PDF"}async function L(){var V,h,p,R,f,w;if(!s.agendaId)return;const S=(V=t.user)==null?void 0:V.proponent_id;if(!S){Qe.create({type:"negative",color:"blue-8",message:"Erro: Proponente n\xE3o identificado"});return}r.value=!0;try{if((h=(await Se.post(`/api/pauta/${s.agendaId}/voice-request/register`,{proponent_id:S,requested:!0})).data)!=null&&h.success){Qe.create({type:"positive",color:"blue-6",message:"Pedido de voz registrado com sucesso!"});const B=Me.getItem("unit_id_num");B&&d.isConnected&&d.emit("voice-request-registered",{unitId:parseInt(B),agendaId:parseInt(s.agendaId),proponentId:parseInt(S),proponentName:((p=t.user)==null?void 0:p.name)||((R=t.user)==null?void 0:R.first_name)||"Vereador",source:"vereador"}),n("request-registered"),v!=null&&v.loadStatus&&await v.loadStatus(!0),await new Promise(F=>setTimeout(F,500))}}catch(M){Qe.create({type:"negative",color:"blue-6",message:((w=(f=M.response)==null?void 0:f.data)==null?void 0:w.message)||"Erro ao solicitar voz"})}finally{r.value=!1,u.value=!1}}function E(){(v==null?void 0:v.showSpeechModal)!==void 0&&(v.showSpeechModal.value=!0)}return(S,V)=>(m(),K(dt,{modelValue:A.value,"onUpdate:modelValue":V[3]||(V[3]=h=>A.value=h),maximized:"","transition-show":"fade","transition-hide":"fade","no-esc-dismiss":!0,"no-backdrop-dismiss":!0},{default:D(()=>{var h,p,R,f,w,M,B,F,I,J,te,oe,U,se;return[a("div",so,[a("div",no,[a("div",io,[a("div",oo,[$(j,{name:z.value,color:"gray-700",size:"32px"},null,8,["name"]),a("h1",lo,T(q.value),1)]),a("p",ro,T(_.value),1)])]),a("div",uo,[a("div",co,[(h=e.reading)!=null&&h.proposition?(m(),P("div",vo,[a("div",go,[a("div",fo,T((p=e.reading.proposition.species)==null?void 0:p.name)+" "+T(e.reading.proposition.number)+"/"+T(e.reading.proposition.year),1),a("div",mo,T(e.reading.proposition.title||e.reading.proposition.ementa||"N/A"),1)])])):O("",!0),(f=(R=e.reading)==null?void 0:R.proposition)!=null&&f.description?(m(),P("div",ho,[V[4]||(V[4]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Descri\xE7\xE3o ",-1)),a("div",po,T(e.reading.proposition.description),1)])):O("",!0),((M=(w=e.reading)==null?void 0:w.proposition)==null?void 0:M.documents)&&e.reading.proposition.documents.length>0?(m(),P("div",bo,[V[5]||(V[5]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Documentos ",-1)),a("div",wo,[(m(!0),P(ke,null,Ce(e.reading.proposition.documents,X=>(m(),K(qe,{key:X.id,href:X.file_url||X.signed_file_url,target:"_blank",color:"primary",outline:"",icon:"picture_as_pdf",label:X.title||X.original_filename||"Abrir PDF",size:"sm"},null,8,["href","label"]))),128))])])):((F=(B=e.reading)==null?void 0:B.proposition)==null?void 0:F.file_url)||((J=(I=e.reading)==null?void 0:I.proposition)==null?void 0:J.protocol_document)?(m(),P("div",So,[V[6]||(V[6]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Documentos ",-1)),a("div",yo,[e.reading.proposition.file_url?(m(),K(qe,{key:0,color:"primary",outline:"",icon:"description",label:"Abrir Arquivo",size:"sm",onClick:V[0]||(V[0]=X=>l(e.reading.proposition.file_url))})):O("",!0),o()?(m(),K(qe,{key:1,color:"primary",outline:"",icon:"picture_as_pdf",label:y(),size:"sm",onClick:V[1]||(V[1]=X=>l(o()))},null,8,["label"])):O("",!0)])])):O("",!0),((oe=(te=e.reading)==null?void 0:te.proposition)==null?void 0:oe.proponents)&&e.reading.proposition.proponents.length>0?(m(),P("div",_o,[V[7]||(V[7]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Proponentes ",-1)),a("div",xo,[(m(!0),P(ke,null,Ce(e.reading.proposition.proponents,X=>(m(),P("div",{key:X.id,class:"tw-bg-gray-50 tw-rounded-lg tw-p-3"},[a("div",qo,[$(_t,{size:"40px",color:"primary","text-color":"white"},{default:D(()=>[X.avatar?(m(),P("img",{key:0,src:X.avatar,alt:X.name},null,8,$o)):(m(),P("span",Ao,T(g(X.name)),1))]),_:2},1024),a("div",Io,[a("div",ko,T(X.name),1),X.party?(m(),P("div",Vo,T(X.party),1)):O("",!0)])])]))),128))])])):(U=e.reading)!=null&&U.proposition?O("",!0):(m(),P("div",Ro,[$(j,{name:"info",size:"48px",color:"gray-400",class:"tw-mb-3"}),V[8]||(V[8]=a("div",{class:"text-body1 tw-text-gray-600"}," Informa\xE7\xF5es da leitura ser\xE3o exibidas aqui ",-1))]))])]),e.agendaId&&((se=e.reading)==null?void 0:se.type)==="reading"?(m(),K(ao,{key:0,modelValue:u.value,"onUpdate:modelValue":V[2]||(V[2]=X=>u.value=X),"vertical-actions-align":"right",color:e.hasRequest?"info":"positive",icon:e.hasRequest?"hourglass_empty":"record_voice_over",direction:"up",style:{position:"fixed",bottom:"16px",right:"16px","z-index":"10000"}},{default:D(()=>{var X;return[!e.hasRequest||e.currentSpeech&&e.currentSpeech.status==="finished"?(m(),K(ht,{key:0,color:"positive",icon:"record_voice_over",label:e.hasRequest&&((X=e.currentSpeech)==null?void 0:X.status)==="finished"?"Solicitar Novamente":"Solicitar Voz",loading:r.value,onClick:L},null,8,["label","loading"])):e.hasRequest&&!e.currentSpeech?(m(),K(ht,{key:1,color:"info",icon:"hourglass_empty",label:"Aguardando Libera\xE7\xE3o",disable:""})):e.currentSpeech&&["speaking","paused"].includes(e.currentSpeech.status)?(m(),K(ht,{key:2,color:"primary",icon:"mic",label:"Ver Fala",onClick:E})):O("",!0)]}),_:1},8,["modelValue","color","icon"])):O("",!0)])]}),_:1},8,["modelValue"]))}};var To=Pe(zo,[["__scopeId","data-v-75716dae"]]);const Co={class:"tw-flex tw-flex-col tw-h-full tw-bg-gray-100"},Po={class:"tw-flex-shrink-0 tw-bg-blue-600 tw-text-white tw-shadow-md tw-p-4 tw-z-10"},Lo={class:"tw-text-center"},Eo={class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-mb-2"},Mo={class:"text-h6 tw-font-bold tw-text-white tw-mb-0"},Fo={class:"text-body2 tw-text-white tw-mb-0"},Do={class:"tw-flex-1 tw-overflow-y-auto tw-p-4"},jo={class:"tw-max-w-4xl tw-mx-auto"},No={key:0,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},Oo={class:"tw-text-center tw-mb-3"},Bo={class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"},Uo={key:0,class:"tw-flex tw-justify-center"},Qo={class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-p-3 tw-bg-blue-50 tw-rounded-lg tw-border-2 tw-border-blue-200 tw-min-w-[120px]"},Jo={class:"tw-text-center tw-pr-2"},Ho={class:"text-h6 tw-font-bold tw-text-gray-900 tw-leading-tight"},Wo={key:1,class:"tw-grid tw-grid-cols-4 tw-gap-2"},Go={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-1 tw-p-3 tw-bg-green-50 tw-rounded-lg tw-border tw-border-green-200"},Ko={class:"tw-text-center"},Yo={class:"text-h6 tw-font-bold tw-text-gray-900 tw-leading-tight"},Xo={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-1 tw-p-3 tw-bg-red-50 tw-rounded-lg tw-border tw-border-red-200"},Zo={class:"tw-text-center"},el={class:"text-h6 tw-font-bold tw-text-gray-900 tw-leading-tight"},tl={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-1 tw-p-3 tw-bg-orange-50 tw-rounded-lg tw-border tw-border-orange-200"},al={class:"tw-text-center"},sl={class:"text-h6 tw-font-bold tw-text-gray-900 tw-leading-tight"},nl={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-gap-1 tw-p-3 tw-bg-blue-50 tw-rounded-lg tw-border-2 tw-border-blue-200"},il={class:"tw-text-center"},ol={class:"text-h6 tw-font-bold tw-text-gray-900 tw-leading-tight"},ll={key:1,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},rl={class:"tw-text-center"},ul={class:"text-body1 tw-font-bold tw-text-gray-900 tw-mb-1"},dl={class:"text-body2 tw-text-gray-700"},cl={key:2,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},vl={class:"text-body2 tw-text-gray-800 tw-leading-relaxed tw-whitespace-pre-wrap tw-text-justify"},gl={key:3,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},fl={class:"tw-flex tw-flex-wrap tw-gap-2"},ml={key:4,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4 tw-mb-4"},hl={class:"tw-flex tw-flex-wrap tw-gap-2"},pl={key:5,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-4"},bl={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 tw-gap-3"},wl={class:"tw-flex tw-items-center tw-gap-3"},Sl=["src","alt"],yl={key:1},_l={class:"tw-flex-1 tw-min-w-0"},xl={class:"text-body2 tw-font-semibold tw-text-gray-900 tw-truncate"},ql={key:0,class:"text-caption tw-text-gray-600 tw-truncate"},$l={key:6,class:"tw-bg-white tw-rounded-lg tw-shadow-sm tw-p-6 tw-text-center"},Al={key:0,class:"tw-flex-shrink-0 tw-bg-white tw-p-4 tw-border-t tw-border-gray-200 tw-shadow-md"},Il={class:"tw-max-w-2xl tw-mx-auto"},kl={class:"text-h6 tw-font-bold tw-text-gray-800 tw-mb-2 tw-text-center"},Vl={key:0},Rl={key:1},zl={key:2},Tl={key:0,class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-mb-3"},Cl={__name:"VotingFullscreenModal",props:{modelValue:{type:Boolean,default:!1},voting:{type:Object,default:null},agendaId:{type:Number,required:!0},onVoteRegistered:{type:Function,default:null}},emits:["update:modelValue","vote-registered"],setup(e,{emit:i}){const s=e,n=i,t=Ve(),d=Ke(),u=Y(!1),r=Y(!1),v=Y(null),A=c({get:()=>s.modelValue,set:f=>n("update:modelValue",f)});me(()=>s.modelValue,f=>{f||(r.value=!1,v.value=null,u.value=!1)}),me(()=>{var f;return(f=s.voting)==null?void 0:f.id},(f,w)=>{f!==w&&w!==void 0&&(r.value=!1,v.value=null,u.value=!1)}),me(()=>s.voting,f=>{var w;console.log("[VotingFullscreenModal] Voting atualizado:",{voting:f,hasId:!!(f!=null&&f.id),hasVotes:!!(f!=null&&f.votes),votesCount:(w=f==null?void 0:f.votes)==null?void 0:w.length})},{immediate:!0,deep:!0});const z=c(()=>{var M,B,F,I,J;const f=(M=t.user)==null?void 0:M.proponent_id;if(!((B=s.voting)!=null&&B.votes)||!f)return console.log("[VotingFullscreenModal] myVote computed:",{hasVoting:!!s.voting,hasVotes:!!((F=s.voting)!=null&&F.votes),votesLength:(J=(I=s.voting)==null?void 0:I.votes)==null?void 0:J.length,proponentId:f}),null;const w=s.voting.votes.find(te=>te.proponent_id===parseInt(f));return(w==null?void 0:w.vote)||null}),q=c(()=>z.value!==null),_=c(()=>{const f=z.value||(r.value?v.value:null);return f?f==="favor"?"A Favor":f==="against"?"Contra":"Absten\xE7\xE3o":""});c(()=>{const f=z.value||(r.value?v.value:null);return f?f==="favor"?"thumb_up":f==="against"?"thumb_down":"remove_circle":"how_to_vote"}),c(()=>{const f=z.value||(r.value?v.value:null);return f?f==="favor"?"green":f==="against"?"red":"orange":"primary"});const g=c(()=>{const f=z.value||(r.value?v.value:null);return f?f==="favor"?"tw-text-green-600":f==="against"?"tw-text-red-600":"tw-text-orange-600":""}),l=c(()=>{var f;return((f=s.voting)==null?void 0:f.type)==="secret_voting"}),o=c(()=>l.value?"Vota\xE7\xE3o Secreta em Andamento":"Vota\xE7\xE3o em Andamento"),y=c(()=>l.value?"Vota\xE7\xE3o secreta - Seu voto ser\xE1 mantido em sigilo":"Registre seu voto"),L=c(()=>l.value?"lock":"how_to_vote");c(()=>l.value?"purple":"deep-purple");const E=c(()=>{var w;if(!((w=s.voting)!=null&&w.votes))return{favor:0,against:0,abstain:0,total:0};const f=s.voting.votes;return{favor:f.filter(M=>M.vote==="favor").length,against:f.filter(M=>M.vote==="against").length,abstain:f.filter(M=>M.vote==="abstain").length,total:f.length}});function S(f){if(!f)return"";const w=f.split(" ");return w.length>=2?(w[0][0]+w[w.length-1][0]).toUpperCase():f.substring(0,2).toUpperCase()}function V(f){f&&window.open(f,"_blank")}function h(){var w,M;if(!((M=(w=s.voting)==null?void 0:w.proposition)!=null&&M.protocol_document))return null;const f=s.voting.proposition.protocol_document;return f.signed_file_url||f.file_url||null}function p(){var w,M;return(M=(w=s.voting)==null?void 0:w.proposition)!=null&&M.protocol_document?s.voting.proposition.protocol_document.title||"Abrir PDF do Protocolo":"Abrir PDF"}async function R(f){var B,F,I,J,te,oe,U,se,X,ve,ge,fe,ne,ee,x,le,b;const w=(B=t.user)==null?void 0:B.proponent_id,M=((oe=(te=(J=(I=(F=s.voting)==null?void 0:F.proposition)==null?void 0:I.species)==null?void 0:J.name)==null?void 0:te.toLowerCase())==null?void 0:oe.trim())==="ata"||((ge=(ve=(X=(se=(U=s.voting)==null?void 0:U.proposition)==null?void 0:se.species)==null?void 0:X.title)==null?void 0:ve.toLowerCase())==null?void 0:ge.trim())==="ata";if(!((fe=s.voting)!=null&&fe.id)){Qe.create({type:"negative",color:"blue-6",message:"Erro: Vota\xE7\xE3o n\xE3o identificada"});return}if(!M&&!w){Qe.create({type:"negative",color:"blue-6",message:"Erro: Proponente n\xE3o identificado"});return}if(s.voting.type==="reading"){Qe.create({type:"negative",color:"blue-6",message:"N\xE3o \xE9 poss\xEDvel votar em uma leitura. Apenas vota\xE7\xF5es permitem votos."});return}if(s.voting.type!=="voting"&&s.voting.type!=="secret_voting"){Qe.create({type:"negative",color:"blue-6",message:"Tipo de vota\xE7\xE3o inv\xE1lido."});return}u.value=!0,v.value=f;try{const C={vote:f};!M&&w&&(C.proponent_id=parseInt(w));const H=await Se.post(`/pauta/${s.agendaId}/voting/reading/${s.voting.id}/vote`,C);if((ne=H==null?void 0:H.data)!=null&&ne.success){r.value=!0;const ae=Me.getItem("unit_id_num");if(ae&&d.isConnected&&d.emit("voting-vote-registered",{unitId:parseInt(ae),agendaId:s.agendaId,readingId:s.voting.id,proponentId:M?null:parseInt(w),vote:f,timestamp:new Date().toISOString()}),n("vote-registered"),s.onVoteRegistered&&typeof s.onVoteRegistered=="function")try{await s.onVoteRegistered()}catch(W){console.error("[VotingFullscreenModal] Erro ao atualizar status ap\xF3s voto:",W)}else await new Promise(W=>{setTimeout(W,800)});u.value=!1}else r.value=!1,v.value=null,u.value=!1}catch(C){console.error("[VotingFullscreenModal] Erro ao votar:",C);const H=((x=(ee=C.response)==null?void 0:ee.data)==null?void 0:x.message)||((b=(le=C.response)==null?void 0:le.data)==null?void 0:b.error)||"Erro ao registrar voto. Tente novamente.";Qe.create({type:"negative",color:"blue-6",message:H,position:"top",timeout:5e3}),r.value=!1,v.value=null,u.value=!1}}return(f,w)=>(m(),K(dt,{modelValue:A.value,"onUpdate:modelValue":w[5]||(w[5]=M=>A.value=M),maximized:"","transition-show":"fade","transition-hide":"fade","no-esc-dismiss":!0,"no-backdrop-dismiss":!0},{default:D(()=>{var M,B,F,I,J,te,oe,U,se,X,ve,ge,fe;return[a("div",Co,[a("div",Po,[a("div",Lo,[a("div",Eo,[$(j,{name:L.value,color:"white",size:"32px"},null,8,["name"]),a("h1",Mo,T(o.value),1)]),a("p",Fo,T(y.value),1)])]),a("div",Do,[a("div",jo,[e.voting&&e.voting.votes&&e.voting.votes.length>0?(m(),P("div",No,[a("div",Oo,[a("div",Bo,[$(j,{name:"people",color:"primary",size:"20px",class:"tw-pr-2"}),pe(" "+T((l.value,"Votos Registrados")),1)]),l.value?(m(),P("div",Uo,[a("div",Qo,[a("div",Jo,[a("div",Ho,T(E.value.total),1)]),w[6]||(w[6]=a("div",{class:"text-body2 tw-text-gray-700 tw-mt-0"}," Votaram ",-1))])])):(m(),P("div",Wo,[a("div",Go,[$(j,{name:"thumb_up",color:"green",size:"20px"}),a("div",Ko,[a("div",Yo,T(E.value.favor),1),w[7]||(w[7]=a("div",{class:"text-body2 tw-text-gray-700 tw-mt-0"}," A Favor ",-1))])]),a("div",Xo,[$(j,{name:"thumb_down",color:"red",size:"20px"}),a("div",Zo,[a("div",el,T(E.value.against),1),w[8]||(w[8]=a("div",{class:"text-body2 tw-text-gray-700 tw-mt-0"}," Contra ",-1))])]),a("div",tl,[$(j,{name:"remove_circle",color:"orange",size:"20px"}),a("div",al,[a("div",sl,T(E.value.abstain),1),w[9]||(w[9]=a("div",{class:"text-body2 tw-text-gray-700 tw-mt-0"}," Absten\xE7\xF5es ",-1))])]),a("div",nl,[$(j,{name:"people",color:"primary",size:"20px"}),a("div",il,[a("div",ol,T(E.value.total),1),w[10]||(w[10]=a("div",{class:"text-body2 tw-text-gray-700 tw-mt-0"}," Total ",-1))])])]))])])):O("",!0),(M=e.voting)!=null&&M.proposition?(m(),P("div",ll,[a("div",rl,[a("div",ul,T((B=e.voting.proposition.species)==null?void 0:B.name)+" "+T(e.voting.proposition.number)+"/"+T(e.voting.proposition.year),1),a("div",dl,T(e.voting.proposition.title||e.voting.proposition.ementa||"N/A"),1)])])):O("",!0),(I=(F=e.voting)==null?void 0:F.proposition)!=null&&I.description?(m(),P("div",cl,[w[11]||(w[11]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Descri\xE7\xE3o ",-1)),a("div",vl,T(e.voting.proposition.description),1)])):O("",!0),((te=(J=e.voting)==null?void 0:J.proposition)==null?void 0:te.documents)&&e.voting.proposition.documents.length>0?(m(),P("div",gl,[w[12]||(w[12]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Documentos ",-1)),a("div",fl,[(m(!0),P(ke,null,Ce(e.voting.proposition.documents,ne=>(m(),K(qe,{key:ne.id,href:ne.file_url||ne.signed_file_url,target:"_blank",color:"primary",outline:"",icon:"picture_as_pdf",label:ne.title||ne.original_filename||"Abrir PDF",size:"sm"},null,8,["href","label"]))),128))])])):((U=(oe=e.voting)==null?void 0:oe.proposition)==null?void 0:U.file_url)||((X=(se=e.voting)==null?void 0:se.proposition)==null?void 0:X.protocol_document)?(m(),P("div",ml,[w[13]||(w[13]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Documentos ",-1)),a("div",hl,[e.voting.proposition.file_url?(m(),K(qe,{key:0,color:"primary",outline:"",icon:"description",label:"Abrir Arquivo",size:"sm",onClick:w[0]||(w[0]=ne=>V(e.voting.proposition.file_url))})):O("",!0),h()?(m(),K(qe,{key:1,color:"primary",outline:"",icon:"picture_as_pdf",label:p(),size:"sm",onClick:w[1]||(w[1]=ne=>V(h()))},null,8,["label"])):O("",!0)])])):O("",!0),((ge=(ve=e.voting)==null?void 0:ve.proposition)==null?void 0:ge.proponents)&&e.voting.proposition.proponents.length>0?(m(),P("div",pl,[w[14]||(w[14]=a("div",{class:"text-body1 tw-font-semibold tw-text-gray-900 tw-mb-3"}," Proponentes ",-1)),a("div",bl,[(m(!0),P(ke,null,Ce(e.voting.proposition.proponents,ne=>(m(),P("div",{key:ne.id,class:"tw-bg-gray-50 tw-rounded-lg tw-p-3"},[a("div",wl,[$(_t,{size:"40px",color:"primary","text-color":"white"},{default:D(()=>[ne.avatar?(m(),P("img",{key:0,src:ne.avatar,alt:ne.name},null,8,Sl)):(m(),P("span",yl,T(S(ne.name)),1))]),_:2},1024),a("div",_l,[a("div",xl,T(ne.name),1),ne.party?(m(),P("div",ql,T(ne.party),1)):O("",!0)])])]))),128))])])):(fe=e.voting)!=null&&fe.proposition?O("",!0):(m(),P("div",$l,[$(j,{name:"info",size:"48px",color:"gray-400",class:"tw-mb-3"}),w[15]||(w[15]=a("div",{class:"text-body1 tw-text-gray-600"}," Informa\xE7\xF5es da vota\xE7\xE3o ser\xE3o exibidas aqui ",-1))]))])]),e.voting&&e.voting.id&&e.voting.type!=="reading"?(m(),P("div",Al,[a("div",Il,[a("div",kl,[q.value&&!l.value?(m(),P("span",Vl,[w[16]||(w[16]=pe("Seu voto atual: ",-1)),a("strong",{class:Q(g.value)},T(_.value),3)])):q.value&&l.value?(m(),P("span",Rl,"Voc\xEA j\xE1 votou nesta vota\xE7\xE3o secreta")):(m(),P("span",zl,"Como deseja votar?"))]),u.value?(m(),P("div",Tl,[$(Dt,{color:"primary",size:"24px"}),w[17]||(w[17]=a("span",{class:"text-body2 tw-text-gray-600"},"Aguarde, processando voto...",-1))])):O("",!0),a("div",{class:Q(["tw-grid tw-grid-cols-3 tw-gap-2",{"tw-opacity-50":u.value}])},[$(qe,{color:"green",outline:l.value?!0:z.value!=="favor",size:"md",icon:"thumb_up",label:"A Favor",class:Q(["tw-rounded-md",!l.value&&z.value==="favor"?"vote-selected":""]),disable:u.value||l.value&&q.value&&z.value==="favor",loading:u.value&&v.value==="favor",onClick:w[2]||(w[2]=ne=>R("favor"))},null,8,["outline","class","disable","loading"]),$(qe,{color:"red",outline:l.value?!0:z.value!=="against",size:"md",icon:"thumb_down",label:"Contra",class:Q(["tw-rounded-md",!l.value&&z.value==="against"?"vote-selected":""]),disable:u.value||l.value&&q.value&&z.value==="against",loading:u.value&&v.value==="against",onClick:w[3]||(w[3]=ne=>R("against"))},null,8,["outline","class","disable","loading"]),$(qe,{color:"orange",outline:l.value?!0:z.value!=="abstain",size:"md",icon:"remove_circle",label:"Absten\xE7\xE3o",class:Q(["tw-py-2 tw-rounded-md",!l.value&&z.value==="abstain"?"vote-selected":""]),disable:u.value||l.value&&q.value&&z.value==="abstain",loading:u.value&&v.value==="abstain",onClick:w[4]||(w[4]=ne=>R("abstain"))},null,8,["outline","class","disable","loading"])],2)])])):O("",!0)])]}),_:1},8,["modelValue"]))}};var Pl=Pe(Cl,[["__scopeId","data-v-5e3e3adb"]]);function Ll(e){const i=Y(!1),s=Y((e==null?void 0:e.value)||null),n=Y(0),t=Y(null),d=c(()=>{const v=Me.getItem("unit_id_num");return v?parseInt(v):null});async function u(){var v;i.value=!0;try{const A=await Se.get("/pauta",{params:{session_status:"started",per_page:1}}),z=((v=A==null?void 0:A.data)==null?void 0:v.data)||[];z.length>0?s.value=z[0].id:s.value=null}catch(A){console.error(A),s.value=null}finally{i.value=!1}}function r(v,A){if(!d.value)return;const z=Date.now(),q=s.value;if(t.value===q&&z-n.value<500){console.log("[useSessionAgenda] ensureSubscribed ignorado - subscri\xE7\xE3o muito recente");return}const _=`unit.${d.value}.sessions`;if(v.subscribeToChannel(_),q){const g=`unit.${d.value}.agenda.${q}`;v.subscribeToChannel(g),t.value!==q||z-n.value>=1e3?(t.value=q,n.value=z,A&&(console.log("[useSessionAgenda] Executando fun\xE7\xF5es de carregamento para agenda:",q),Object.values(A).forEach(l=>{typeof l=="function"&&l()}))):console.log("[useSessionAgenda] Fun\xE7\xF5es de carregamento ignoradas - subscri\xE7\xE3o muito recente")}}return{loadingAgendas:i,selectedAgendaId:s,unitId:d,loadStartedAgenda:u,ensureSubscribed:r}}function pt(e,i,s="small"){const n=Y(null),t=Y(0),d=Y(0),u=Y(null),r=Y(!1),v=Y(!1),A=Y(0),z=Y(null),q=Y(null),_=s==="small"?"small-expedient":s==="miscellaneous"?"miscellaneous-subject":"large-expedient",g=c(()=>{var p;return((p=n.value)==null?void 0:p.status)==="finished"?n.value:null}),l=c(()=>g.value?(g.value.allocated_minutes||0)+(g.value.additional_minutes||0):0),o=c(()=>{if(!g.value)return 0;const p=g.value.used_seconds||0;return Math.floor(p/60)}),y=c(()=>g.value?(g.value.used_seconds||0)%60:0),L=c(()=>{var p;return((p=g.value)==null?void 0:p.finished_at)||null});function E(){z.value=null,q.value=null}function S(){var B,F,I,J;if(!n.value){t.value=0,d.value=0,E();return}const p=n.value,R=(((B=p.allocated_minutes)!=null?B:0)+((F=p.additional_minutes)!=null?F:0))*60;if(R<=0){t.value=0,d.value=0;return}if(p.status==="paused"&&typeof p.calculated_remaining_seconds=="number"){const te=Math.max(0,Math.min(R,Math.floor(p.calculated_remaining_seconds))),oe=Math.max(0,R-te);t.value=te,d.value=Math.floor(oe);return}let f;if(p.status==="speaking"&&q.value!=null&&z.value!=null){const te=Math.max(0,(Date.now()-q.value)/1e3);f=z.value+te}else{const te=(J=(I=p.calculated_used_seconds)!=null?I:p.used_seconds)!=null?J:0;if(f=te,p.status==="speaking"&&p.started_at){const oe=(new Date-new Date(p.started_at))/1e3;f=te+Math.max(0,oe)}}f=Math.max(0,f);const w=Math.min(R,Math.floor(f)),M=Math.max(0,R-w);d.value=w,t.value=M}async function V(){var R,f,w,M;if(v.value){console.log(`[useSpeech ${s}] loadSpeechStatus j\xE1 em andamento, ignorando.`);return}const p=Date.now();if(p-A.value<100){console.log(`[useSpeech ${s}] loadSpeechStatus chamado muito recentemente, ignorando.`);return}if(!e.value||!i.value){n.value=null,t.value=0,d.value=0,E(),u.value&&(clearInterval(u.value),u.value=null);return}v.value=!0,A.value=p;try{const B=await Se.get(`/pauta/${e.value}/${_}/speeches/status`);if(((R=B==null?void 0:B.data)==null?void 0:R.success)&&((f=B==null?void 0:B.data)==null?void 0:f.data)){const F=B.data.data.speeches||[];let I=F.find(J=>J.proponent_id===parseInt(i.value)&&(J.status==="speaking"||J.status==="paused"));if(I||(I=F.find(J=>J.proponent_id===parseInt(i.value))),I){if(n.value=I,I.status==="speaking"||I.status==="paused"){const J=(M=(w=I.calculated_used_seconds)!=null?w:I.used_seconds)!=null?M:0;z.value=Math.max(0,Number(J)),q.value=Date.now()}else E();S(),I.status==="speaking"||I.status==="paused"?(r.value||(r.value=!0),u.value||(u.value=setInterval(()=>{S()},1e3))):I.status==="finished"?(E(),u.value&&(clearInterval(u.value),u.value=null)):(E(),r.value=!1,u.value&&(clearInterval(u.value),u.value=null))}else n.value=null,t.value=0,d.value=0,E(),r.value=!1,u.value&&(clearInterval(u.value),u.value=null)}}catch(B){console.error(`Erro ao carregar status da fala (${s}):`,B),n.value=null,t.value=0,d.value=0,E()}finally{v.value=!1}}function h(){E(),u.value&&(clearInterval(u.value),u.value=null)}return{currentSpeech:n,remainingTime:t,usedSeconds:d,showSpeechModal:r,loadingSpeech:v,finishedSpeech:g,finishedSpeechTotalMinutes:l,finishedSpeechUsedMinutes:o,finishedSpeechUsedSeconds:y,finishedSpeechFinishedAt:L,loadSpeechStatus:V,cleanup:h}}function El(e,i){const s=Y([]),n=Y(!1);async function t(){var d,u,r,v,A,z;if(!e.value||!i.value){s.value=[];return}try{const q=await Se.get(`/pauta/${e.value}/session-logs`);if(((d=q==null?void 0:q.data)==null?void 0:d.success)&&((u=q==null?void 0:q.data)==null?void 0:u.data)){const _=q.data.data.logs||[],g=Ve(),l=_.filter(h=>{var p,R;return((p=h.event_data)==null?void 0:p.proponent_id)===parseInt(i.value)||h.user_id===((R=g.user)==null?void 0:R.id)}),o=[],y=l.find(h=>h.event_type==="session_attendance"&&h.event_subtype==="attendance_registered");y&&o.push({icon:"how_to_reg",color:"green",label:"Presen\xE7a registrada no qu\xF3rum",time:Fe(y.occurred_at)});const L=l.find(h=>h.event_type==="small_expedient"&&(h.event_subtype==="register_speaker"||h.event_subtype==="small_expedient_registered"));if(L){const{useSessionSettings:h}=await Je(()=>Promise.resolve().then(function(){return nt}),void 0),p=h();await p.loadSettings(),o.push({icon:"assignment",color:"secondary",label:`Inscrito no ${p.smallExpedientName.value||"Pequeno Expediente"}`,time:Fe(L.occurred_at)})}const E=l.find(h=>h.event_type==="large_expedient"&&(h.event_subtype==="register_speaker"||h.event_subtype==="large_expedient_registered"));if(E){const{useSessionSettings:h}=await Je(()=>Promise.resolve().then(function(){return nt}),void 0),p=h();await p.loadSettings(),o.push({icon:"assignment_turned_in",color:"orange",label:`Inscrito no ${p.largeExpedientName.value||"Grande Expediente"}`,time:Fe(E.occurred_at)})}const S=l.filter(h=>h.event_type==="small_expedient_speech");if(S.length>0){const h=S.find(R=>R.event_subtype==="speech_started"),p=S.find(R=>R.event_subtype==="speech_finished");if(h&&o.push({icon:"mic",color:"primary",label:"Fala iniciada",time:Fe(h.occurred_at)}),p){const R=((r=p.event_data)==null?void 0:r.total_minutes_allocated)||0,f=((v=p.event_data)==null?void 0:v.total_seconds_used)||0,w=Math.floor(f/60);o.push({icon:"mic_off",color:"grey",label:`Fala finalizada (${w}min de ${R}min dispon\xEDveis)`,time:Fe(p.occurred_at)})}}const V=l.filter(h=>h.event_type==="large_expedient_speech");if(V.length>0){const h=V.find(R=>R.event_subtype==="speech_started"),p=V.find(R=>R.event_subtype==="speech_finished");if(h){const{useSessionSettings:R}=await Je(()=>Promise.resolve().then(function(){return nt}),void 0),f=R();await f.loadSettings(),o.push({icon:"mic",color:"orange",label:`Fala iniciada (${f.largeExpedientName.value||"Grande Expediente"})`,time:Fe(h.occurred_at)})}if(p){const{useSessionSettings:R}=await Je(()=>Promise.resolve().then(function(){return nt}),void 0),f=R();await f.loadSettings();const w=((A=p.event_data)==null?void 0:A.total_minutes_allocated)||0,M=((z=p.event_data)==null?void 0:z.total_seconds_used)||0,B=Math.floor(M/60);o.push({icon:"mic_off",color:"grey",label:`Fala finalizada - ${f.largeExpedientName.value||"Grande Expediente"} (${B}min de ${w}min dispon\xEDveis)`,time:Fe(p.occurred_at)})}}s.value=o}}catch(q){console.error("Erro ao carregar intera\xE7\xF5es da sess\xE3o:",q),s.value=[]}}return{sessionInteractions:s,loadingSessionInteractions:n,loadSessionInteractions:t}}function Ml(e,i,s,n={}){const t=Ke();Ve();const{onQuorumStarted:d,onQuorumFinalized:u,onSmallExpedientStarted:r,onSmallExpedientFinalized:v,onSmallExpedientRegistration:A,onSmallExpedientOrderUpdated:z,onLargeExpedientStarted:q,onLargeExpedientFinalized:_,onLargeExpedientRegistration:g,onLargeExpedientOrderUpdated:l,onMiscellaneousSubjectStarted:o,onMiscellaneousSubjectFinalized:y,onMiscellaneousSubjectRegistration:L,onMiscellaneousSubjectOrderUpdated:E,onVotingStarted:S,onVotingReadingStarted:V,onVotingReadingFinished:h,onVotingVoteRegistered:p,onSpeechStarted:R,onSpeechPaused:f,onSpeechResumed:w,onSpeechTimeAdded:M,onSpeechFinished:B,onSessionAttendance:F,onSessionAbsences:I,onVoiceRequestRegistered:J,onVoiceRequestRemoved:te,onVoiceRequestSpeechStarted:oe,onVoiceRequestSpeechPaused:U,onVoiceRequestSpeechResumed:se,onVoiceRequestSpeechTimeAdded:X,onVoiceRequestSpeechFinished:ve,onSpeechAsideStarted:ge,onSpeechAsideFinished:fe}=n;function ne(){d&&t.on("quorum-started",x=>{ee(x,"agendaId")&&(d(x),ie.success("Qu\xF3rum iniciado! Voc\xEA j\xE1 pode marcar sua presen\xE7a."))}),u&&t.on("quorum-finalized",x=>{ee(x,"agendaId")&&(u(x),ie.warning("O qu\xF3rum foi finalizado. Aguarde um novo qu\xF3rum ser iniciado."))}),r&&t.on("small-expedient-started",async x=>{if(ee(x,"agendaId")){const{useExpedientStore:le}=await Je(()=>Promise.resolve().then(function(){return lt}),void 0);le().invalidateStatusCache("small"),await r(x)}}),v&&t.on("small-expedient-finalized",async x=>{ee(x,"agendaId")&&await v(x)}),A&&t.on("small-expedient-registration",async x=>{ee(x,"agendaId","proponentId")&&await A(x)}),z&&t.on("small-expedient-order-updated",async x=>{ee(x,"agendaId")&&await z(x)}),q&&t.on("large-expedient-started",x=>{ee(x,"agendaId")&&q(x)}),_&&t.on("large-expedient-finalized",async x=>{ee(x,"agendaId")&&await _(x)}),g&&t.on("large-expedient-registration",async x=>{ee(x,"agendaId","proponentId")&&await g(x)}),l&&t.on("large-expedient-order-updated",async x=>{ee(x,"agendaId")&&await l(x)}),o&&t.on("miscellaneous-subject-started",async x=>{if(ee(x,"agendaId")){const{useExpedientStore:le}=await Je(()=>Promise.resolve().then(function(){return lt}),void 0);le().invalidateStatusCache("miscellaneous"),await o(x)}}),y&&t.on("miscellaneous-subject-finalized",async x=>{ee(x,"agendaId")&&await y(x)}),L&&t.on("miscellaneous-subject-registration",async x=>{ee(x,"agendaId","proponentId")&&await L(x)}),E&&t.on("miscellaneous-subject-order-updated",async x=>{ee(x,"agendaId")&&await E(x)}),S&&t.on("voting-started",async x=>{ee(x,"agendaId")&&(await S(x),ie.info("Vota\xE7\xE3o iniciada na sess\xE3o."))}),V&&t.on("voting-reading-started",async x=>{if(ee(x,"agendaId")){await V(x);const le=x.type==="reading",b=x.type==="reading"?"Leitura":x.type==="secret_voting"?"Vota\xE7\xE3o Secreta":"Vota\xE7\xE3o";le||ie.info(`${b} iniciada.`)}}),h&&t.on("voting-reading-finished",async x=>{if(ee(x,"agendaId")){await h(x);const le=(x==null?void 0:x.type)||"reading",b=le==="secret_voting"?"Vota\xE7\xE3o secreta encerrada.":le==="voting"?"Vota\xE7\xE3o encerrada.":le==="reading"?"Leitura encerrada.":"Vota\xE7\xE3o encerrada.";ie.info(b)}}),p&&t.on("voting-vote-registered",async x=>{ee(x,"agendaId")&&await p(x)}),R&&t.on("speech-started",async x=>{ee(x,"agendaId","proponentId")&&(await R(x),ie.success("Sua fala foi iniciada!"))}),f&&t.on("speech-paused",async x=>{ee(x,"agendaId","proponentId")&&(await f(x),ie.info("Sua fala foi pausada."))}),w&&t.on("speech-resumed",async x=>{ee(x,"agendaId","proponentId")&&(await w(x),ie.success("Sua fala foi retomada!"))}),M&&t.on("speech-time-added",async x=>{ee(x,"agendaId","proponentId")&&(await M(x),ie.success(`Tempo adicional de ${x.minutes} minuto(s) adicionado!`))}),B&&t.on("speech-finished",async x=>{ee(x,"agendaId","proponentId")&&(await B(x),ie.warning("Sua fala foi finalizada."))}),F&&t.on("session-attendance",x=>{ee(x,"agendaId","proponentId")&&F(x)}),I&&t.on("session-absences",x=>{ee(x,"agendaId","proponentId")&&I(x)}),J&&t.on("voice-request-registered",async x=>{ee(x,"agendaId")&&await J(x)}),te&&t.on("voice-request-removed",async x=>{ee(x,"agendaId")&&await te(x)}),oe&&t.on("voice-request-speech-started",async x=>{ee(x,"agendaId","proponentId")&&await oe(x)}),U&&t.on("voice-request-speech-paused",async x=>{ee(x,"agendaId","proponentId")&&await U(x)}),se&&t.on("voice-request-speech-resumed",async x=>{ee(x,"agendaId","proponentId")&&await se(x)}),X&&t.on("voice-request-speech-time-added",async x=>{ee(x,"agendaId","proponentId")&&await X(x)}),ve&&t.on("voice-request-speech-finished",async x=>{ee(x,"agendaId","proponentId")&&await ve(x)}),ge&&t.on("speech-aside-started",async x=>{ee(x,"agendaId")&&await ge(x)}),fe&&t.on("speech-aside-finished",async x=>{ee(x,"agendaId")&&await fe(x)})}function ee(x,...le){if(!x)return!1;if(le.includes("agendaId")){const b=parseInt(x.agendaId),C=e.value?parseInt(e.value):null;if(b!==C&&!(!C&&(s==null?void 0:s.value)===b))return!1}if(le.includes("proponentId")){const b=parseInt(x.proponentId),C=i.value?parseInt(i.value):null;if(b!==C)return!1}return!0}return{setupSocketListeners:ne}}const Fl={key:0,class:"dashboard-tabs-container"},Dl={class:"tab-panels-container"},jl={class:"tab-panel"},Nl={class:"tab-panel"},Ol={class:"tab-panel"},Bl={class:"tab-panel"},Ul={class:"tab-panel"},Ql={class:"tab-panel"},Jl={class:"tab-panel"},Hl={class:"empty-state-card"},Wl={class:"empty-state-content"},Gl={key:1,class:"modals-container"},Kl={key:2,class:"dashboard-content"},Yl={class:"dashboard-greeting"},Xl={class:"greeting-content"},Zl={class:"greeting-text"},er={class:"greeting-title"},tr={class:"greeting-subtitle"},ar={key:0,class:"dashboard-content"},sr={key:1,class:"dashboard-content"},nr={key:2,class:"dashboard-content"},ir={class:"empty-state-card"},or={class:"empty-state-content"},lr={__name:"Dashboard",setup(e){const i=Ve(),s=Ke(),n=qt(),t=Y(null),d=Y(null),u=Y(null),r=Y([]),v=Y(null),A=Y([]),z=Y(!1),q=Y("home"),_=c(()=>{const b=[{name:"home",label:"In\xEDcio",icon:"home"},{name:"quorum",label:"Qu\xF3rum",icon:"groups"},...n.enableSmallExpedient.value?[{name:"small-expedient",label:n.smallExpedientName.value||"Pequeno Expediente",icon:"timer"}]:[],...n.enableLargeExpedient.value?[{name:"large-expedient",label:n.largeExpedientName.value||"Grande Expediente",icon:"assignment_turned_in"}]:[],...n.enableMiscellaneousSubjects.value?[{name:"miscellaneous-subject",label:n.miscellaneousSubjectsName.value||"Assuntos Diversos",icon:"topic"}]:[],{name:"voting",label:"Vota\xE7\xE3o",icon:"how_to_vote"}];return t.value&&d.value&&!L.isPresent.value?b.filter(C=>C.name!=="voting"):b});function g(b){q.value=b,console.log("[Dashboard] Tab mudou para:",b)}const l=c(()=>{var b;return((b=t.value)==null?void 0:b.id)||null}),o=Ll(l),y=c(()=>{var b;return((b=i.user)==null?void 0:b.proponent_id)||null}),L=Wt(o.selectedAgendaId),E=Ht(),S=et(o.selectedAgendaId,"small"),V=et(o.selectedAgendaId,"large"),h=et(o.selectedAgendaId,"miscellaneous"),p=Kt(o.selectedAgendaId),R=pt(o.selectedAgendaId,y,"small"),f=pt(o.selectedAgendaId,y,"large"),w=pt(o.selectedAgendaId,y,"miscellaneous"),M=Yt(o.selectedAgendaId),B=El(o.selectedAgendaId,y),F=c({get:()=>R.showSpeechModal.value,set:b=>{R.showSpeechModal.value=b}}),I=c({get:()=>f.showSpeechModal.value,set:b=>{f.showSpeechModal.value=b}}),J=c({get:()=>w.showSpeechModal.value,set:b=>{w.showSpeechModal.value=b}}),te=c({get:()=>p.showReadingModal.value,set:b=>{p.showReadingModal.value=b}}),oe=c({get:()=>p.showVotingModal.value&&t.value&&d.value&&!L.isPresent.value?!1:p.showVotingModal.value,set:b=>{if(b&&t.value&&d.value&&!L.isPresent.value){ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para acessar a vota\xE7\xE3o.");return}p.showVotingModal.value=b}});me(()=>p.showVotingModal.value,b=>{b&&t.value&&d.value&&(L.isPresent.value||(console.log("[Dashboard] Tentativa de abrir modal de vota\xE7\xE3o sem presen\xE7a no quorum - bloqueando"),p.showVotingModal.value=!1,ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para acessar a vota\xE7\xE3o.")))},{immediate:!1});function U(){const b=new Date().getHours();return b<12?"Bom dia!":b<18?"Boa tarde!":"Boa noite!"}function se(){const b=new Date;return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`}const X=c(()=>{if(!u.value)return!1;const b=se();return u.value.session_date===b});async function ve(){var b,C;z.value=!0;try{const H=await Se.get("/pauta",{params:{session_status:"started",per_page:1}}),ae=((b=H==null?void 0:H.data)==null?void 0:b.data)||[];if(ae.length>0){const de=ae[0];t.value=de,d.value=de,u.value=null,r.value=[],v.value=null,A.value=[],de.id&&(o.selectedAgendaId.value=de.id);return}const W=se(),be=await Se.get("/pauta",{params:{date_from:W,date_to:W,per_page:10}}),we=((C=be==null?void 0:be.data)==null?void 0:C.data)||[],xe=we.filter(de=>de.session_status!=="closed"),Ie=we.filter(de=>de.session_status==="closed");if(xe.length>0){const de=xe[0];u.value=de,t.value=null,v.value=null,A.value=[],await ne(de.id)}else if(Ie.length>0){const de=Ie[0];u.value=de,t.value=null,v.value=null,A.value=[],await ne(de.id)}else t.value=null,u.value=null,r.value=[],await ge()}catch(H){console.error("Erro ao carregar sess\xE3o:",H),t.value=null,u.value=null,r.value=[],v.value=null,A.value=[]}finally{z.value=!1}}async function ge(){var b;try{const C=se(),H=await Se.get("/pauta",{params:{date_from:C,per_page:1}}),ae=((b=H==null?void 0:H.data)==null?void 0:b.data)||[];if(ae.length>0){const W=ae[0];v.value=W,await fe(W.id)}else v.value=null,A.value=[]}catch(C){console.error("Erro ao carregar pr\xF3xima sess\xE3o futura:",C),v.value=null,A.value=[]}}async function fe(b){var C;try{const H=await Se.get(`/pauta/${b}/agenda-itens`,{params:{type:"proposition",item_status:"active"}}),ae=((C=H==null?void 0:H.data)==null?void 0:C.data)||[];A.value=ae.filter(W=>W.proposition).map(W=>{var be,we;return{id:W.proposition.id,number:W.proposition.number,year:W.proposition.year,title:W.proposition.title,species:((be=W.proposition.species)==null?void 0:be.name)||((we=W.proposition.species)==null?void 0:we.title),proponents:W.proposition.proponents||[]}})}catch(H){console.error("Erro ao carregar proposi\xE7\xF5es da sess\xE3o futura:",H),A.value=[]}}async function ne(b){var C;try{const H=await Se.get(`/pauta/${b}/agenda-itens`,{params:{type:"proposition",item_status:"active"}}),ae=((C=H==null?void 0:H.data)==null?void 0:C.data)||[];r.value=ae.filter(W=>W.proposition).map(W=>{var be,we;return{id:W.proposition.id,number:W.proposition.number,year:W.proposition.year,title:W.proposition.title,species:((be=W.proposition.species)==null?void 0:be.name)||((we=W.proposition.species)==null?void 0:we.title),proponents:W.proposition.proponents||[]}})}catch(H){console.error("Erro ao carregar proposi\xE7\xF5es da sess\xE3o:",H),r.value=[]}}const{setupSocketListeners:ee}=Ml(o.selectedAgendaId,y,c(()=>{var b;return((b=t.value)==null?void 0:b.id)||null}),{onQuorumStarted:async()=>{await L.loadQuorumStatus(),await L.loadCurrentAttendanceStatus()},onQuorumFinalized:async()=>{await L.loadQuorumStatus(),await L.loadCurrentAttendanceStatus()},onSmallExpedientStarted:async()=>{const{useExpedientStore:b}=await Je(()=>Promise.resolve().then(function(){return lt}),void 0);b().invalidateStatusCache("small"),await S.loadStatus(!0)},onSmallExpedientFinalized:async b=>{await S.loadStatus(),S.isRegistered.value?ie.warning(`As inscri\xE7\xF5es foram finalizadas. Voc\xEA est\xE1 inscrito na posi\xE7\xE3o ${S.registrationOrder.value||"N/A"}\xBA.`):ie.warning(`As inscri\xE7\xF5es de ${n.smallExpedientName.value.toLowerCase()} foram finalizadas.`)},onSmallExpedientRegistration:async b=>{b.source==="controle"&&(S.isRegistered.value=b.registered||!1,await S.loadStatus())},onSmallExpedientOrderUpdated:async()=>{await S.loadStatus(!0)},onLargeExpedientStarted:V.loadStatus,onLargeExpedientFinalized:async b=>{await V.loadStatus(),V.isRegistered.value?ie.warning(`As inscri\xE7\xF5es foram finalizadas. Voc\xEA est\xE1 inscrito na posi\xE7\xE3o ${V.registrationOrder.value||"N/A"}\xBA.`):ie.warning(`As inscri\xE7\xF5es de ${n.largeExpedientName.value.toLowerCase()} foram finalizadas.`)},onLargeExpedientRegistration:async b=>{b.source==="controle"&&(V.isRegistered.value=b.registered||!1,await V.loadStatus())},onLargeExpedientOrderUpdated:async()=>{await V.loadStatus(!0)},onMiscellaneousSubjectStarted:async()=>{console.log("[Dashboard] Evento miscellaneous-subject-started recebido - invalidando cache e recarregando status");const{useExpedientStore:b}=await Je(()=>Promise.resolve().then(function(){return lt}),void 0);b().invalidateStatusCache("miscellaneous"),await h.loadStatus(!0),console.log("[Dashboard] Status recarregado ap\xF3s miscellaneous-subject-started:",{started:h.started.value,finalized:h.finalized.value,isRegistered:h.isRegistered.value})},onMiscellaneousSubjectFinalized:async b=>{await h.loadStatus(),h.isRegistered.value?ie.warning(`As inscri\xE7\xF5es foram finalizadas. Voc\xEA est\xE1 inscrito na posi\xE7\xE3o ${h.registrationOrder.value||"N/A"}\xBA.`):ie.warning(`As inscri\xE7\xF5es de ${n.miscellaneousSubjectsName.value.toLowerCase()} foram finalizadas.`)},onMiscellaneousSubjectRegistration:async b=>{b.source==="controle"&&(h.isRegistered.value=b.registered||!1,await h.loadStatus())},onMiscellaneousSubjectOrderUpdated:async()=>{await h.loadStatus(!0)},onVotingStarted:async()=>{L.isPresent.value?await p.loadVotingStatus():(await p.loadVotingStatus(),p.showVotingModal.value&&(p.showVotingModal.value=!1))},onVotingReadingStarted:async b=>{if((b==null?void 0:b.type)&&b.type!=="reading"&&!L.isPresent.value){await p.loadVotingStatus(),p.showVotingModal.value&&(p.showVotingModal.value=!1),ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para participar da vota\xE7\xE3o.");return}await p.loadVotingStatus()},onVotingReadingFinished:p.loadVotingStatus,onVotingVoteRegistered:p.loadVotingStatus,onSpeechStarted:async b=>{var H,ae,W;const C=b.speech_type||"small";C==="small"?(R.currentSpeech.value=null,await R.loadSpeechStatus(),((H=R.currentSpeech.value)==null?void 0:H.status)==="speaking"&&(R.showSpeechModal.value=!0)):C==="large"?(f.currentSpeech.value=null,await f.loadSpeechStatus(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="speaking"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(w.currentSpeech.value=null,await w.loadSpeechStatus(),((W=w.currentSpeech.value)==null?void 0:W.status)==="speaking"&&(w.showSpeechModal.value=!0))},onSpeechPaused:async b=>{var H,ae,W;const C=b.speech_type||"small";C==="small"?(await R.loadSpeechStatus(),((H=R.currentSpeech.value)==null?void 0:H.status)==="paused"&&(R.showSpeechModal.value=!0)):C==="large"?(await f.loadSpeechStatus(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="paused"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(await w.loadSpeechStatus(),((W=w.currentSpeech.value)==null?void 0:W.status)==="paused"&&(w.showSpeechModal.value=!0))},onSpeechResumed:async b=>{var H,ae,W;const C=b.speech_type||"small";C==="small"?(await R.loadSpeechStatus(),((H=R.currentSpeech.value)==null?void 0:H.status)==="speaking"&&(R.showSpeechModal.value=!0)):C==="large"?(await f.loadSpeechStatus(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="speaking"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(await w.loadSpeechStatus(),((W=w.currentSpeech.value)==null?void 0:W.status)==="speaking"&&(w.showSpeechModal.value=!0))},onSpeechTimeAdded:async b=>{const C=b.speech_type||"small";C==="small"?await R.loadSpeechStatus():C==="large"?await f.loadSpeechStatus():C==="miscellaneous"&&await w.loadSpeechStatus()},onSpeechFinished:async b=>{var H,ae,W;const C=b.speech_type||"small";C==="small"?(await R.loadSpeechStatus(),await B.loadSessionInteractions(),((H=R.currentSpeech.value)==null?void 0:H.status)==="finished"&&(R.showSpeechModal.value=!0)):C==="large"?(await f.loadSpeechStatus(),await B.loadSessionInteractions(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="finished"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(await w.loadSpeechStatus(),await B.loadSessionInteractions(),((W=w.currentSpeech.value)==null?void 0:W.status)==="finished"&&(w.showSpeechModal.value=!0))},onSessionAttendance:async b=>{E.isPresent=b.present||!1,await L.loadCurrentAttendanceStatus(),!b.present&&q.value==="voting"&&(ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para acessar a vota\xE7\xE3o."),q.value="home"),!b.present&&p.showVotingModal.value&&(p.showVotingModal.value=!1,ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para acessar a vota\xE7\xE3o.")),b.source==="controle"&&ie.success(b.present?"Presen\xE7a confirmada pelo controle":"Presen\xE7a removida pelo controle")},onSessionAbsences:async b=>{await L.loadCurrentAttendanceStatus(),b.absenceReason&&(L.absenceReason.value=b.absenceReason),b.justified&&b.absenceReason&&ie.info("Aus\xEAncia justificada pelo controle")},onVoiceRequestRegistered:async b=>{await M.loadStatus(!0)},onVoiceRequestRemoved:async b=>{await M.loadStatus(!0)},onVoiceRequestSpeechStarted:async b=>{await M.loadStatus(!0)},onVoiceRequestSpeechPaused:async b=>{await M.loadStatus(!0)},onVoiceRequestSpeechResumed:async b=>{await M.loadStatus(!0)},onVoiceRequestSpeechTimeAdded:async b=>{await M.loadStatus(!0)},onVoiceRequestSpeechFinished:async b=>{await M.loadStatus(!0)},onSpeechAsideStarted:async b=>{var H,ae,W;const C=(b==null?void 0:b.speech_type)||"small";C==="small"?(await R.loadSpeechStatus(),((H=R.currentSpeech.value)==null?void 0:H.status)==="paused"&&(R.showSpeechModal.value=!0)):C==="large"?(await f.loadSpeechStatus(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="paused"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(await w.loadSpeechStatus(),((W=w.currentSpeech.value)==null?void 0:W.status)==="paused"&&(w.showSpeechModal.value=!0))},onSpeechAsideFinished:async b=>{var H,ae,W;const C=(b==null?void 0:b.speech_type)||"small";C==="small"?(await R.loadSpeechStatus(),((H=R.currentSpeech.value)==null?void 0:H.status)==="speaking"&&(R.showSpeechModal.value=!0)):C==="large"?(await f.loadSpeechStatus(),((ae=f.currentSpeech.value)==null?void 0:ae.status)==="speaking"&&(f.showSpeechModal.value=!0)):C==="miscellaneous"&&(await w.loadSpeechStatus(),((W=w.currentSpeech.value)==null?void 0:W.status)==="speaking"&&(w.showSpeechModal.value=!0))}});function x(){const b=Me.getItem("unit_id_num");if(b&&s.isConnected){const C=`unit.${b}.sessions`;s.subscribeToChannel(C)}s.on("session-status-changed",C=>{if(console.log("[Vereador] Status da sess\xE3o alterado:",C),C.status==="started"&&C.agendaId){const H=Me.getItem("unit_id_num");if(H&&s.isConnected){const ae=`unit.${H}.agenda.${C.agendaId}`;s.subscribeToChannel(ae)}ve()}else C.status==="closed"&&(t.value=null,d.value=null,ve())})}Te("quorum",L),Te("smallExpedient",S),Te("largeExpedient",V),Te("miscellaneousSubject",h),Te("voting",p),Te("voiceRequest",M),Te("smallSpeech",R),Te("largeSpeech",f),Te("miscellaneousSubjectSpeech",w),Te("sessionAgenda",o),Te("sessionSettings",n),Te("sessionInteractions",B),me(()=>{var b;return(b=t.value)==null?void 0:b.id},async(b,C)=>{b&&b!==C&&(o.selectedAgendaId.value=b,s.isConnected&&o.ensureSubscribed(s,{loadQuorumStatus:L.loadQuorumStatus,loadCurrentAttendanceStatus:L.loadCurrentAttendanceStatus,loadSmallExpedientStatus:S.loadStatus,loadLargeExpedientStatus:V.loadStatus,loadMiscellaneousSubjectStatus:h.loadStatus,loadVotingStatus:p.loadVotingStatus,loadVoiceRequestStatus:M.loadStatus}),await Promise.all([L.loadQuorumStatus(),L.loadCurrentAttendanceStatus(),S.loadStatus(),V.loadStatus(),h.loadStatus(),p.loadVotingStatus(),R.loadSpeechStatus(),f.loadSpeechStatus(),w.loadSpeechStatus(),M.loadStatus(),B.loadSessionInteractions()]),ee())},{immediate:!0}),me(()=>L.isPresent.value,b=>{t.value&&d.value&&!b&&p.showVotingModal.value&&(p.showVotingModal.value=!1,ie.warning("Voc\xEA precisa estar presente no qu\xF3rum para acessar a vota\xE7\xE3o."))});let le=null;return ut(async()=>{if(await n.loadSettings(),x(),await ve(),s.isConnected)(()=>{var C;(C=t.value)!=null&&C.id&&o.ensureSubscribed(s,{loadQuorumStatus:L.loadQuorumStatus,loadCurrentAttendanceStatus:L.loadCurrentAttendanceStatus,loadSmallExpedientStatus:S.loadStatus,loadLargeExpedientStatus:V.loadStatus,loadMiscellaneousSubjectStatus:h.loadStatus,loadVotingStatus:p.loadVotingStatus,loadVoiceRequestStatus:M.loadStatus})})();else{const b=setInterval(()=>{var C;s.isConnected&&((C=t.value)!=null&&C.id&&o.ensureSubscribed(s,{loadQuorumStatus:L.loadQuorumStatus,loadCurrentAttendanceStatus:L.loadCurrentAttendanceStatus,loadSmallExpedientStatus:S.loadStatus,loadLargeExpedientStatus:V.loadStatus,loadMiscellaneousSubjectStatus:h.loadStatus,loadVotingStatus:p.loadVotingStatus,loadVoiceRequestStatus:M.loadStatus}),clearInterval(b))},500);setTimeout(()=>clearInterval(b),1e4)}le=setInterval(()=>{ve()},3e4)}),Ot(()=>{le&&clearInterval(le),R.cleanup(),f.cleanup()}),(b,C)=>(m(),K(ya,{class:"mobile-dashboard-page"},{default:D(()=>{var H,ae,W,be,we,xe,Ie,de,Le;return[t.value&&d.value?(m(),P("div",Fl,[a("div",Dl,[Ne(a("div",jl,[$(Es,{"session-data":d.value,"selected-agenda-id":(H=t.value)==null?void 0:H.id},null,8,["session-data","selected-agenda-id"])],512),[[Ue,q.value==="home"]]),Ne(a("div",Nl,[$(nn,{"session-id":(ae=t.value)==null?void 0:ae.id,"session-data":d.value},null,8,["session-id","session-data"])],512),[[Ue,q.value==="quorum"]]),Ne(a("div",Ol,[$($n,{"session-id":(W=t.value)==null?void 0:W.id,"session-data":d.value},null,8,["session-id","session-data"])],512),[[Ue,q.value==="small-expedient"&&k(n).enableSmallExpedient.value]]),Ne(a("div",Bl,[$(zn,{"session-id":(be=t.value)==null?void 0:be.id,"session-data":d.value},null,8,["session-id","session-data"])],512),[[Ue,q.value==="large-expedient"&&k(n).enableLargeExpedient.value]]),Ne(a("div",Ul,[$(Mn,{"session-id":(we=t.value)==null?void 0:we.id,"session-data":d.value},null,8,["session-id","session-data"])],512),[[Ue,q.value==="miscellaneous-subject"&&k(n).enableMiscellaneousSubjects.value]]),Ne(a("div",Ql,[$(Ai,{"session-id":(xe=t.value)==null?void 0:xe.id,"session-data":d.value},null,8,["session-id","session-data"])],512),[[Ue,q.value==="voting"&&k(L).isPresent.value]]),Ne(a("div",Jl,[a("div",Hl,[a("div",Wl,[$(j,{name:"how_to_vote",size:"80px",color:"grey-5",class:"empty-state-icon"}),C[7]||(C[7]=a("div",{class:"empty-state-title"},"Acesso \xE0 Vota\xE7\xE3o Restrito",-1)),C[8]||(C[8]=a("div",{class:"empty-state-subtitle"}," Voc\xEA precisa estar presente no qu\xF3rum para acessar a tela de vota\xE7\xE3o. ",-1))])])],512),[[Ue,q.value==="voting"&&!k(L).isPresent.value]])]),$(Mi,{modelValue:q.value,"onUpdate:modelValue":C[0]||(C[0]=$e=>q.value=$e),tabs:_.value,onTabChange:g},null,8,["modelValue","tabs"])])):O("",!0),t.value&&d.value?(m(),P("div",Gl,[$(mt,{modelValue:F.value,"onUpdate:modelValue":C[1]||(C[1]=$e=>F.value=$e),speech:k(R).currentSpeech.value,"remaining-time":k(R).remainingTime.value,"used-seconds":k(R).usedSeconds.value,"expedient-type":k(n).smallExpedientName.value||"Pequeno Expediente"},null,8,["modelValue","speech","remaining-time","used-seconds","expedient-type"]),$(mt,{modelValue:I.value,"onUpdate:modelValue":C[2]||(C[2]=$e=>I.value=$e),speech:k(f).currentSpeech.value,"remaining-time":k(f).remainingTime.value,"used-seconds":k(f).usedSeconds.value,"expedient-type":k(n).largeExpedientName.value||"Grande Expediente"},null,8,["modelValue","speech","remaining-time","used-seconds","expedient-type"]),k(n).enableMiscellaneousSubjects.value?(m(),K(mt,{key:0,modelValue:J.value,"onUpdate:modelValue":C[3]||(C[3]=$e=>J.value=$e),speech:k(w).currentSpeech.value,"remaining-time":k(w).remainingTime.value,"used-seconds":k(w).usedSeconds.value,"expedient-type":k(n).miscellaneousSubjectsName.value||"Assuntos Diversos"},null,8,["modelValue","speech","remaining-time","used-seconds","expedient-type"])):O("",!0),$(To,{modelValue:te.value,"onUpdate:modelValue":C[4]||(C[4]=$e=>te.value=$e),reading:k(p).activeReading.value,"agenda-id":(Ie=t.value)==null?void 0:Ie.id,"has-request":k(M).hasRequest.value,"current-speech":k(M).currentSpeech.value,"request-order":k(M).requestOrder.value,onRequestRegistered:C[5]||(C[5]=$e=>k(M).loadStatus(!0))},null,8,["modelValue","reading","agenda-id","has-request","current-speech","request-order"]),((de=t.value)==null?void 0:de.id)&&k(L).isPresent.value?(m(),K(Pl,{key:1,modelValue:oe.value,"onUpdate:modelValue":C[6]||(C[6]=$e=>oe.value=$e),voting:k(p).activeVoting.value,"agenda-id":t.value.id,"on-vote-registered":k(p).handleVoteRegistered,onVoteRegistered:k(p).handleVoteRegistered},null,8,["modelValue","voting","agenda-id","on-vote-registered","onVoteRegistered"])):O("",!0)])):(m(),P("div",Kl,[a("div",Yl,[a("div",Xl,[$(j,{name:"waving_hand",size:"32px",class:"greeting-icon"}),a("div",Zl,[a("div",er," Ol\xE1, Ver. "+T(((Le=k(i).user)==null?void 0:Le.first_name)||"Vereador")+"! ",1),a("div",tr,T(U()),1)])])]),u.value&&X.value?(m(),P("div",ar,[$(Vt,{"scheduled-session":u.value,propositions:r.value},null,8,["scheduled-session","propositions"])])):v.value?(m(),P("div",sr,[$(Vt,{"scheduled-session":v.value,propositions:A.value,"is-future":!0},null,8,["scheduled-session","propositions"])])):(m(),P("div",nr,[a("div",ir,[a("div",or,[$(j,{name:"event_busy",size:"80px",color:"grey-5",class:"empty-state-icon"}),C[9]||(C[9]=a("div",{class:"empty-state-title"},"Nenhuma sess\xE3o agendada",-1)),C[10]||(C[10]=a("div",{class:"empty-state-subtitle"}," Aguarde uma sess\xE3o ser agendada e iniciada. ",-1))])])]))]))]}),_:1}))}};var fr=Pe(lr,[["__scopeId","data-v-a7d2b524"]]);export{fr as default};
